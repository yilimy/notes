<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[python-pip升级]]></title>
      <url>/2017/python-pip-update.html</url>
      <content type="html"><![CDATA[<p>今天在使用<code>VSCode</code>的时候提示我升级pip，因为电脑里同时安装了两个<code>python</code>版本，升级过程并不顺利，现把完整方法写出来。<br><img src="http://7u2ss1.com1.z0.glb.clouddn.com/python01.png" alt=""></p>
<a id="more"></a>
<h2 id="升级过程"><a href="#升级过程" class="headerlink" title="升级过程"></a>升级过程</h2><p>因为是是两个不同的版本，所以一次升级一个。<code>python2.X</code>版本升级<br>使用以下命令：<br><code>python2 -m pip install --upgrade pip</code><br>当看到<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Installing</span> <span class="selector-tag">collected</span> <span class="selector-tag">packages</span>: <span class="selector-tag">pip</span></span><br><span class="line">  <span class="selector-tag">Found</span> <span class="selector-tag">existing</span> <span class="selector-tag">installation</span>: <span class="selector-tag">pip</span> 8<span class="selector-class">.1</span><span class="selector-class">.1</span></span><br><span class="line">    <span class="selector-tag">Uninstalling</span> <span class="selector-tag">pip-8</span><span class="selector-class">.1</span><span class="selector-class">.1</span>:</span><br><span class="line">      <span class="selector-tag">Successfully</span> <span class="selector-tag">uninstalled</span> <span class="selector-tag">pip-8</span><span class="selector-class">.1</span><span class="selector-class">.1</span></span><br><span class="line"><span class="selector-tag">Successfully</span> <span class="selector-tag">installed</span> <span class="selector-tag">pip-9</span><span class="selector-class">.0</span><span class="selector-class">.1</span></span><br></pre></td></tr></table></figure></p>
<p>说明升级成功。然后升级<code>python3.X</code>使用以下命令：<br><code>python3 -m pip install --upgrade pip</code><br>当看到<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ python3 -m pip <span class="keyword">install </span>--upgrade pip</span><br><span class="line">Collecting pip</span><br><span class="line">  Using <span class="keyword">cached </span>pip-9.<span class="number">0</span>.<span class="number">1</span>-py2.py3-none-any.whl</span><br><span class="line"><span class="keyword">Installing </span>collected packages: pip</span><br><span class="line">  Found existing <span class="keyword">installation: </span>pip <span class="number">8</span>.<span class="number">1</span>.<span class="number">2</span></span><br><span class="line">    Uninstalling pip-8.<span class="number">1</span>.<span class="number">2</span>:</span><br><span class="line">      Successfully uninstalled pip-8.<span class="number">1</span>.<span class="number">2</span></span><br><span class="line">Successfully <span class="keyword">installed </span>pip-9.<span class="number">0</span>.<span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<p>说明升级成功。<br>使用<code>pip2 -V</code>和 <code>pip3 -V</code>检查升级结果。<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ pip2 -V</span><br><span class="line">pip <span class="number">9.0</span>.<span class="number">1</span> from <span class="symbol">d:</span>\python27\<span class="class"><span class="keyword">lib</span>\<span class="title">site</span>-<span class="title">packages</span> (<span class="title">python</span> 2.7)</span></span><br><span class="line"></span><br><span class="line">$ pip3 -V</span><br><span class="line">pip <span class="number">9.0</span>.<span class="number">1</span> from <span class="symbol">d:</span>\python35\<span class="class"><span class="keyword">lib</span>\<span class="title">site</span>-<span class="title">packages</span> (<span class="title">python</span> 3.5)</span></span><br></pre></td></tr></table></figure></p>
<h2 id="升级完成后使用PIP"><a href="#升级完成后使用PIP" class="headerlink" title="升级完成后使用PIP"></a>升级完成后使用PIP</h2><p>两个版本的PIP是独立的，所以使用方法稍有变化。以后只需运行<code>pip2 install XXX</code>和<code>pip3 install XXX</code>即可安装各自的<code>python</code>包。</p>
]]></content>
      
        <categories>
            
            <category> Python </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Python </tag>
            
            <tag> pip </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Git忽略规则及.gitignore规则不生效的解决办法]]></title>
      <url>/2017/gitignore-Effective-rules.html</url>
      <content type="html"><![CDATA[<h2 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h2><p>在git中如果想忽略掉某个文件，不让这个文件提交到版本库中，可以使用修改根目录中 .gitignore 文件的方法（如无，则需自己手工建立此文件）。这个文件每一行保存了一个匹配的规则例如：<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 此为注释 – 将被 Git 忽略</span></span><br><span class="line"> </span><br><span class="line">*.a       <span class="comment"># 忽略所有 .a 结尾的文件</span></span><br><span class="line">!<span class="class"><span class="keyword">lib</span>.<span class="title">a</span>    <span class="comment"># 但 lib.a 除外</span></span></span><br><span class="line">/TODO     <span class="comment"># 仅仅忽略项目根目录下的 TODO 文件，不包括 subdir/TODO</span></span><br><span class="line">build/    <span class="comment"># 忽略 build/ 目录下的所有文件</span></span><br><span class="line">doc/*.txt <span class="comment"># 会忽略 doc/notes.txt 但不包括 doc/server/arch.txt</span></span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<h2 id="处理方法"><a href="#处理方法" class="headerlink" title="处理方法"></a>处理方法</h2><p>规则很简单，不做过多解释，但是有时候在项目开发过程中，突然心血来潮想把某些目录或文件加入忽略规则，按照上述方法定义后发现并未生效，原因是.gitignore只能忽略那些原来没有被track的文件，如果某些文件已经被纳入了版本管理中，则修改.gitignore是无效的。那么解决方法就是先把本地缓存删除（改变成未track状态），然后再提交：<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git rm -r <span class="comment">--cached .</span></span><br><span class="line">git <span class="built_in">add</span> .</span><br><span class="line">git commit -m <span class="string">'update .gitignore'</span></span><br></pre></td></tr></table></figure></p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> git </tag>
            
            <tag> 语法 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[hexo-nexo主题配置中的问题]]></title>
      <url>/2017/hexo-nexo-iss.html</url>
      <content type="html"><![CDATA[<h2 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h2><p>好久没写博客了，一时间发现作者更新了新版本，我就很自然的，拉取最新版本，然后合并自己本地的博客源码，解决了好几个文件的冲突。看似是解决好了，不料在我 <code>hexo clean</code> 、<code>hexo g</code> 操作时，出现了问题：</p>
<a id="more"></a>
<figure class="highlight tex"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="formula">$ hexo g</span><br><span class="line">ERROR Script load failed: themes<span class="tag">\<span class="name">next</span></span><span class="tag">\<span class="name">scripts</span></span><span class="tag">\<span class="name">tags</span></span><span class="tag">\<span class="name">exturl</span></span>.js</span><br><span class="line">Error: Cannot find module 'hexo-util'</span><br><span class="line">    at Function.Module._resolveFilename (module.js:325:15)</span><br><span class="line">    at Function.Module._load (module.js:276:25)</span><br><span class="line">    at Module.require (module.js:353:17)</span><br><span class="line">    at require (D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">lib</span></span><span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">index</span></span>.js:213:21)</span><br><span class="line">    at D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">themes</span></span><span class="tag">\<span class="name">next</span></span><span class="tag">\<span class="name">scripts</span></span><span class="tag">\<span class="name">tags</span></span><span class="tag">\<span class="name">exturl</span></span>.js:7:12</span><br><span class="line">    at D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">lib</span></span><span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">index</span></span>.js:229:12</span><br><span class="line">    at tryCatcher (D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">bluebird</span></span><span class="tag">\<span class="name">js</span></span><span class="tag">\<span class="name">rel</span></span></span><br><span class="line">ease<span class="tag">\<span class="name">util</span></span>.js:16:23)</span><br><span class="line">    at Promise._settlePromiseFromHandler (D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_</span><br><span class="line">modules<span class="tag">\<span class="name">bluebird</span></span><span class="tag">\<span class="name">js</span></span><span class="tag">\<span class="name">release</span></span><span class="tag">\<span class="name">promise</span></span>.js:502:31)</span><br><span class="line">    at Promise._settlePromise (D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">blu</span></span></span><br><span class="line">ebird<span class="tag">\<span class="name">js</span></span><span class="tag">\<span class="name">release</span></span><span class="tag">\<span class="name">promise</span></span>.js:559:18)</span><br><span class="line">    at Promise._settlePromise0 (D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">bl</span></span></span><br><span class="line">uebird<span class="tag">\<span class="name">js</span></span><span class="tag">\<span class="name">release</span></span><span class="tag">\<span class="name">promise</span></span>.js:604:10)</span><br><span class="line">    at Promise._settlePromises (D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">bl</span></span></span><br><span class="line">uebird<span class="tag">\<span class="name">js</span></span><span class="tag">\<span class="name">release</span></span><span class="tag">\<span class="name">promise</span></span>.js:683:18)</span><br><span class="line">    at Promise._fulfill (D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">bluebird</span></span><span class="tag">\<span class="name"></span><br><span class="line"></span></span>js<span class="tag">\<span class="name">release</span></span><span class="tag">\<span class="name">promise</span></span>.js:628:18)</span><br><span class="line">    at Promise._resolveCallback (D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">b</span></span></span><br><span class="line">luebird<span class="tag">\<span class="name">js</span></span><span class="tag">\<span class="name">release</span></span><span class="tag">\<span class="name">promise</span></span>.js:423:57)</span><br><span class="line">    at Promise._settlePromiseFromHandler (D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_</span><br><span class="line">modules<span class="tag">\<span class="name">bluebird</span></span><span class="tag">\<span class="name">js</span></span><span class="tag">\<span class="name">release</span></span><span class="tag">\<span class="name">promise</span></span>.js:514:17)</span><br><span class="line">    at Promise._settlePromise (D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">blu</span></span></span><br><span class="line">ebird<span class="tag">\<span class="name">js</span></span><span class="tag">\<span class="name">release</span></span><span class="tag">\<span class="name">promise</span></span>.js:559:18)</span><br><span class="line">    at Promise._settlePromise0 (D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">bl</span></span></span><br><span class="line">uebird<span class="tag">\<span class="name">js</span></span><span class="tag">\<span class="name">release</span></span><span class="tag">\<span class="name">promise</span></span>.js:604:10)</span><br><span class="line">    at Promise._settlePromises (D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">bl</span></span></span><br><span class="line">uebird<span class="tag">\<span class="name">js</span></span><span class="tag">\<span class="name">release</span></span><span class="tag">\<span class="name">promise</span></span>.js:683:18)</span><br><span class="line">    at Promise._fulfill (D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">bluebird</span></span><span class="tag">\<span class="name"></span><br><span class="line"></span></span>js<span class="tag">\<span class="name">release</span></span><span class="tag">\<span class="name">promise</span></span>.js:628:18)</span><br><span class="line">    at D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">bluebird</span></span><span class="tag">\<span class="name">js</span></span><span class="tag">\<span class="name">release</span></span><span class="tag">\<span class="name">nodebac</span></span></span><br><span class="line">k.js:42:21</span><br><span class="line">    at D:<span class="tag">\<span class="name">myblog</span></span>-hexo<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span><span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">hexo</span></span>-fs<span class="tag">\<span class="name">node</span></span>_modules<span class="tag">\<span class="name">gracef</span></span></span><br><span class="line">ul-fs<span class="tag">\<span class="name">graceful</span></span>-fs.js:78:16</span><br><span class="line">    at FSReqWrap.readFileAfterClose [as oncomplete] (fs.js:380:3)</span></span><br></pre></td></tr></table></figure>
<p>虽然这些错误不影响正常使用，不过有点强迫症的我，是不能接受的。查了一下百度，并没有发现和我相同问题的，结果厚着脸到作者源码仓库 <a href="https://github.com/iissnan/hexo-theme-next" target="_blank" rel="external">iissnan/hexo-theme-next</a>,发布了一个ISS，<a href="https://github.com/iissnan/hexo-theme-next/issues/1480" target="_blank" rel="external">求解错误</a>，得到热心的同学解答，现把自己解决方法记录下来！</p>
<h2 id="解决方案"><a href="#解决方案" class="headerlink" title="解决方案"></a>解决方案</h2><p>首先，错误列表反复提示 <code>Error: Cannot find module &#39;hexo-util&#39;</code> 这句，原来是加载 <code>hexo-util</code> 模块失败！<br>接下来，就安装此模块<br>命令行里打 <code>npm install -- save-dev hexo-util</code> 等待！、<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="selector-tag">hexo-util</span>@<span class="selector-tag">0</span><span class="selector-class">.6</span><span class="selector-class">.0</span> <span class="selector-tag">postinstall</span> <span class="selector-tag">D</span>:\<span class="selector-tag">myblog-hexo</span>\<span class="selector-tag">node_modules</span>\<span class="selector-tag">hexo-util</span></span><br><span class="line">&gt; <span class="selector-tag">npm</span> <span class="selector-tag">run</span> <span class="selector-tag">build</span><span class="selector-pseudo">:highlight</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; <span class="selector-tag">hexo-util</span>@<span class="selector-tag">0</span><span class="selector-class">.6</span><span class="selector-class">.0</span> <span class="selector-tag">build</span><span class="selector-pseudo">:highlight</span> <span class="selector-tag">D</span>:\<span class="selector-tag">myblog-hexo</span>\<span class="selector-tag">node_modules</span>\<span class="selector-tag">hexo-util</span></span><br><span class="line">&gt; <span class="selector-tag">node</span> <span class="selector-tag">scripts</span>/<span class="selector-tag">build_highlight_alias</span><span class="selector-class">.js</span> &gt; <span class="selector-tag">highlight_alias</span><span class="selector-class">.json</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">save-dev</span>@<span class="selector-tag">2</span><span class="selector-class">.0</span><span class="selector-class">.0</span> <span class="selector-tag">node_modules</span>\<span class="selector-tag">save-dev</span></span><br><span class="line"></span><br><span class="line"><span class="selector-tag">hexo-util</span>@<span class="selector-tag">0</span><span class="selector-class">.6</span><span class="selector-class">.0</span> <span class="selector-tag">node_modules</span>\<span class="selector-tag">hexo-util</span></span><br><span class="line">├── <span class="selector-tag">html-entities</span>@<span class="selector-tag">1</span><span class="selector-class">.2</span><span class="selector-class">.0</span></span><br><span class="line">├── <span class="selector-tag">striptags</span>@<span class="selector-tag">2</span><span class="selector-class">.2</span><span class="selector-class">.1</span></span><br><span class="line">├── <span class="selector-tag">bluebird</span>@<span class="selector-tag">3</span><span class="selector-class">.4</span><span class="selector-class">.7</span></span><br><span class="line">├── <span class="selector-tag">highlight</span><span class="selector-class">.js</span>@<span class="selector-tag">9</span><span class="selector-class">.9</span><span class="selector-class">.0</span></span><br><span class="line">├── <span class="selector-tag">cross-spawn</span>@<span class="selector-tag">4</span><span class="selector-class">.0</span><span class="selector-class">.2</span> (lru-cache<span class="variable">@4</span>.<span class="number">0.2</span>, which<span class="variable">@1</span>.<span class="number">2.12</span>)</span><br><span class="line">└── <span class="selector-tag">camel-case</span>@<span class="selector-tag">3</span><span class="selector-class">.0</span><span class="selector-class">.0</span> (upper-case<span class="variable">@1</span>.<span class="number">1.3</span>, no-case<span class="variable">@2</span>.<span class="number">3.1</span>)</span><br></pre></td></tr></table></figure></p>
<p>显示为此，说明模块安装成功<br>再试 <code>hexo clean</code> 、<code>hexo g</code> 等操作，都正常了。<br>总体来说，一般这些错误，都是模块的问题，知道了原理，再慢慢排查，就应该能解决相应的问题！~</p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> next-theme </tag>
            
            <tag> Bug </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hexo+NexT主题配置备忘]]></title>
      <url>/2016/hexo-next-theme-optimize.html</url>
      <content type="html"><![CDATA[<p>2016年即将过去，在此整理一下hexo博客自己的改动，生命不息，折腾不体。我喜欢折腾，更享受用hexo写博。</p>
<h1 id="NexT主题安装使用"><a href="#NexT主题安装使用" class="headerlink" title="NexT主题安装使用"></a>NexT主题安装使用</h1><h2 id="本地环境"><a href="#本地环境" class="headerlink" title="本地环境"></a>本地环境</h2><p>自行安装 <code>git</code> 和 <code>Node.js</code> 不会的可百度，安装方法一堆。</p>
<h2 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h2><p><code>Git</code> 和 <code>Node.js</code> 都安装好后,首先创建一个用于存放博客文件的文件夹，如 <code>blog</code>，然后进入 <code>blog</code> 文件夹，下面开始安装并使用 <code>Hexo</code>。<br>右键选择 <code>Git Bash Here</code>，弹出 <code>Git Bash</code> 窗口；执行命令：<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>npm install -g hexo-cli</span><br><span class="line"><span class="variable">$ </span>hexo init</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>安装完成后，指定文件夹的目录如下：<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">├── _config.yml</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── source</span><br><span class="line"><span class="string">|   ├── _drafts</span></span><br><span class="line"><span class="string">|   └── _posts</span></span><br><span class="line">└── themes</span><br></pre></td></tr></table></figure></p>
<p>其中 <code>_config.yml</code> 文件用于存放网站的配置信息，你可以在此配置大部分的参数； <code>scaffolds</code> 是存放模板的文件夹，当新建文章时，Hexo 会根据 <code>scaffold</code> 来建立文件； <code>source</code> 是资源文件夹，用于存放用户资源， <code>themes</code> 是主题文件夹，存放博客主题， <code>Hexo</code> 会根据主题来生成静态页面。</p>
<p>在 <code>Git Bash</code> 终端执行命令：<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>hexo g</span><br><span class="line"><span class="variable">$ </span>hexo s</span><br></pre></td></tr></table></figure></p>
<p>Hexo将 <code>source</code> 文件夹中的Markdown 和 HTML 文件会被解析并放到 <code>public</code> 文件夹中， <code>public</code> 文件夹用于存放静态博客文件，相当于网站根目录。<br>至此博客雏形基本完成，在浏览器中访问 <code>http://localhost:4000/</code> ，就可以访问本地博客了。</p>
<h2 id="使用NexT主题"><a href="#使用NexT主题" class="headerlink" title="使用NexT主题"></a>使用NexT主题</h2><p>在 <code>Git Bash</code> 终端执行以下命令：<br><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/iissnan/hexo-theme-<span class="keyword">next</span> themes/<span class="keyword">next</span></span><br></pre></td></tr></table></figure></p>
<p>打开站点配置文件 <code>_config.yml</code>，找到 <code>theme</code> 字段，并将其值更改为 <code>next</code> 。<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: <span class="keyword">next</span></span><br></pre></td></tr></table></figure></p>
<p>NexT主题是我用过的唯一的一款Hexo主题，界面简约，功能齐全且多样，响应式设计，电脑，手机访问效果很好。</p>
<p>在 <code>Git Bash</code> 终端执行命令 <code>hexo s</code> ，在浏览器中访问 <code>http://localhost:4000/</code> ，可以看到默认的NexT-Muse主题。</p>
<p>我喜欢双栏的故使用 <code>NexT.Pisces</code> 主题，修改主题配置文件  <code>_config.yml</code>的 <code>Schemes</code> 字段的值为：<br><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">scheme:</span> Pisces</span><br></pre></td></tr></table></figure></p>
<h1 id="Next主题宽度调节"><a href="#Next主题宽度调节" class="headerlink" title="Next主题宽度调节"></a>Next主题宽度调节</h1><p>现在一般都用宽屏显示器，博客页面两侧留白太多，调整一下宽度。<br>打开 <code>\themes\next\source\css\_common\components\post\post-expand.styl</code> 文件，找到<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@media (<span class="built_in">max</span>-<span class="built_in">width</span>: <span class="number">767</span>px)</span><br></pre></td></tr></table></figure></p>
<p>改为<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@media (<span class="built_in">max</span>-<span class="built_in">width</span>: <span class="number">1080</span>px)</span><br></pre></td></tr></table></figure></p>
<p>打开 <code>\themes\next\source\css\ _variables\base.styl</code> 文件，找到<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$main</span>-desktop                   = 960px</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$main</span>-desktop-large             = 1200px</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$content</span>-desktop                = 700px</span></span><br></pre></td></tr></table></figure></p>
<p>修改 <code>$main-desktop</code> 和 <code>$content-desktop</code> 的数值：<br><figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"><span class="meta-keyword">$main</span>-desktop                   = 1080px</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$main</span>-desktop-large             = 1200px</span></span><br><span class="line"><span class="meta"><span class="meta-keyword">$content</span>-desktop                = 810px</span></span><br></pre></td></tr></table></figure></p>
<p><code>Next.Mist</code> 主题的文章宽度至此改完了。如果你用的是 <code>Next.Pisces</code>，还需要继续修改。<br>打开 <code>\themes\next\source\css\_schemes\Pisces\_layout.styl</code> 文件，将第 <code>4</code> 行的 <code>width改为1080px</code> ，修改后如下：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.header</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1080px</span>;</span><br></pre></td></tr></table></figure></p>
<p>记录一下我常用的细节改动，参考了许多博友的设置，并不是我的原创。参考网站，会在文章最底部列出，以示谢意。</p>
<h1 id="修改文章内链接文本样式"><a href="#修改文章内链接文本样式" class="headerlink" title="修改文章内链接文本样式"></a>修改文章内链接文本样式</h1><p>将链接文本设置为蓝色，鼠标划过时文字颜色加深，并显示下划线。<br>修改文件 <code>themes\next\source\css\_common\components\post\post.styl</code> ，添加如下css样式，：<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 文章内链接文本样式</span></span><br><span class="line"><span class="selector-class">.post-body</span> <span class="selector-tag">p</span> <span class="selector-tag">a</span>&#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#0593d3</span>;</span><br><span class="line">  <span class="attribute">border-bottom</span>: none;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#0593d3</span>;</span><br><span class="line">  &amp;:hover &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fc6423</span>;</span><br><span class="line">    <span class="attribute">border-bottom</span>: none;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">1px</span> solid <span class="number">#fc6423</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>选择 <code>.post-body</code> 是为了不影响标题，选择 <code>p</code> 是为了不影响首页“阅读全文”的显示样式。</p>
<h1 id="文章底部的那个带-号的标签"><a href="#文章底部的那个带-号的标签" class="headerlink" title="文章底部的那个带#号的标签"></a>文章底部的那个带#号的标签</h1><p>文章底部的那个带#号的标签，比如#NexT，可以把#换成图标吗，怎么设置?<br>修改模板 <code>layout/_macro/post.swig</code>，搜索 <code>rel=&quot;tag&quot;&gt;#</code>，将 # 换成 <code>&lt;i class=&quot;fa fa-tag&quot;&gt;&lt;/i&gt;</code></p>
<h1 id="首页展示文章动画效果和图片放大镜效果关闭哪改？"><a href="#首页展示文章动画效果和图片放大镜效果关闭哪改？" class="headerlink" title="首页展示文章动画效果和图片放大镜效果关闭哪改？"></a>首页展示文章动画效果和图片放大镜效果关闭哪改？</h1><p>文章动画效果关闭：主题配置里 <code>Motion:</code> 改为 <code>false</code></p>
<p>关闭图片放大镜效果: 主题配置里 <code>fancybox:</code> 改为 <code>false</code></p>
<h1 id="hexo背景动态效果和心心"><a href="#hexo背景动态效果和心心" class="headerlink" title="hexo背景动态效果和心心"></a>hexo背景动态效果和心心</h1><p>博客背景动态效果图和点击小红心效果的相关设置。<br>把 <code>js</code> 文件 <code>love.js</code> 和 <code>particle.js</code> 放在 <code>\themes\next\source\js\src</code> 文件目录下<br>更新 <code>\themes\next\layout\_layout.swig</code> 文件，在末尾（在前面引用会出现找不到的bug）添加以下 <code>js</code> 引入代码：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 背景动画 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/src/particle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- 页面点击小红心 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/src/love.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>想设置动画线条颜色可改为：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">color</span>=<span class="string">"255,0,0"</span> <span class="attr">opacity</span>=<span class="string">"0.3"</span> <span class="attr">count</span>=<span class="string">"99"</span> <span class="attr">src</span>=<span class="string">"particle.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>就能显示红色。或者用：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/src/particles.js"</span> <span class="attr">count</span>=<span class="string">"50"</span> <span class="attr">zindex</span>=<span class="string">"-2"</span> <span class="attr">opacity</span>=<span class="string">"1"</span> <span class="attr">color</span>=<span class="string">"0,104,183"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>两个JS下载为：<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span><span class="comment">//7u2ss1.com1.z0.glb.clouddn.com/love.js</span></span><br><span class="line"><span class="symbol">http:</span><span class="comment">//7u2ss1.com1.z0.glb.clouddn.com/particle.js</span></span><br></pre></td></tr></table></figure></p>
<h1 id="hexo-NexT主题首页title的优化"><a href="#hexo-NexT主题首页title的优化" class="headerlink" title="hexo NexT主题首页title的优化"></a>hexo NexT主题首页title的优化</h1><p>更改 <code>index.swig</code> 文件，文件路径是 <code>your-hexo-site\themes\next\layout</code> ，将下面代码<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">block</span></span> title %&#125;</span><span class="xml"> </span><span class="template-variable">&#123;&#123; config.title &#125;&#125;</span><span class="xml"> </span><span class="template-tag">&#123;% <span class="name"><span class="name">endblock</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p>
<p>改成<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">block</span></span> title %&#125;</span><span class="xml"> </span><span class="template-variable">&#123;&#123; config.title &#125;&#125;</span><span class="xml"> - </span><span class="template-variable">&#123;&#123; theme.description &#125;&#125;</span><span class="xml"> </span><span class="template-tag">&#123;% <span class="name"><span class="name">endblock</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p>
<p>这时候你的首页标题会更符合网站名称 - 网站描述这习惯。<br>进阶，做了 <code>seo</code> 优化，把关键词也显示在 <code>Title</code> 标题里，可改成<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">block</span></span> title %&#125;</span><span class="xml"> </span><span class="template-variable">&#123;&#123; theme.keywords &#125;&#125;</span><span class="xml"> - </span><span class="template-variable">&#123;&#123; config.title &#125;&#125;</span><span class="xml"> - </span><span class="template-variable">&#123;&#123; theme.description &#125;&#125;</span><span class="xml"> </span><span class="template-tag">&#123;% <span class="name"><span class="name">endblock</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p>
<p><strong>注意：</strong>别堆砌关键字，整个标题一般不超过 <code>80</code> 个字符，可以通过chinaz的seo综合查询检查。</p>
<h1 id="每篇文章末尾统一添加“本文结束”标记"><a href="#每篇文章末尾统一添加“本文结束”标记" class="headerlink" title="每篇文章末尾统一添加“本文结束”标记"></a>每篇文章末尾统一添加“本文结束”标记</h1><h2 id="新建-passage-end-tag-swig-文件"><a href="#新建-passage-end-tag-swig-文件" class="headerlink" title="新建 passage-end-tag.swig 文件"></a>新建 <code>passage-end-tag.swig</code> 文件</h2><p>在路径 <code>\themes\next\layout\_macro</code> 中添加 <code>passage-end-tag.swig</code> 文件，其内容为：<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> not is_index %&#125;</span><span class="xml"></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"text-align:center;color: #ccc;font-size:14px;"</span>&gt;</span>------本文结束<span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-paw"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>感谢阅读------<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="修改-post-swig-文件"><a href="#修改-post-swig-文件" class="headerlink" title="修改 post.swig 文件"></a>修改 post.swig 文件</h2><p>在 <code>\themes\next\layout\_macro\post.swig</code> 中， <code>post-body</code> 之后， <code>post-footer</code> 之前添加如下代码（post-footer之前两个DIV）：<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  </span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> not is_index %&#125;</span><span class="xml"></span><br><span class="line">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> 'passage-end-tag.swig' %&#125;</span><span class="xml"></span><br><span class="line">  </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<h2 id="在主题配置文件中添加字段"><a href="#在主题配置文件中添加字段" class="headerlink" title="在主题配置文件中添加字段"></a>在主题配置文件中添加字段</h2><p>在<strong>主题配置文件</strong> <code>_config.yml</code> 中添加以下字段开启此功能：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 文章末尾添加“本文结束”标记</span></span><br><span class="line"><span class="attr">passage_end_tag:</span></span><br><span class="line"><span class="attr">  enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<p>完成以上设置之后，在每篇文章之后都会添加“本文结束”标记。</p>
<h1 id="增加HIGH一下功能"><a href="#增加HIGH一下功能" class="headerlink" title="增加HIGH一下功能"></a>增加HIGH一下功能</h1><p>在 <code>themes\next\layout\_macro</code> 目录下增加 <code>high.swig</code> 文件，我已改为歌曲循环和多次点击不重复！<br>地址为:<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">http:</span><span class="comment">//7u2ss1.com1.z0.glb.clouddn.com/high-xunhuan.swig</span></span><br></pre></td></tr></table></figure></p>
<p>打开这个地址，复制全部内容，在你本地新建<code>high.swig</code> 文件。<br>打开\themes\next\layout\_macro\sidebar.swig文件，打开，在<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; url_for(theme.rss) &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">target</span>=<span class="string">"_blank"</span> <span class="attr">rel</span>=<span class="string">"alternate"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-rss"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">    RSS</span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br></pre></td></tr></table></figure></p>
<p>后边加入：<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> 'high.swig' %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p>
<p>如：<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> theme.rss %&#125;</span><span class="xml"></span><br><span class="line">          <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"feed-link motion-element"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"</span></span></span><span class="template-variable">&#123;&#123; url_for(theme.rss) &#125;&#125;</span><span class="xml"><span class="tag"><span class="string">"</span> <span class="attr">rel</span>=<span class="string">"alternate"</span>&gt;</span></span><br><span class="line">              <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">"fa fa-rss"</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line">              RSS</span><br><span class="line">            <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">              </span><span class="template-tag">&#123;% <span class="name"><span class="name">include</span></span> 'high.swig' %&#125;</span><span class="xml"></span><br><span class="line">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        </span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p>
<p>接着在主题配置文件 <code>_config.yml</code> ，加入：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">highqilai:</span> </span><br><span class="line"><span class="attr">  enabled:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure></p>
<p>然后打开自定义CSS： <code>\themes\next\source\css\_custom\custom.styl</code> 加入<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.feed-link</span> <span class="selector-tag">a</span>&#123;<span class="attribute">display</span>: inline-block;&#125;</span><br></pre></td></tr></table></figure></p>
<p>保存，<code>hexo clean</code> ， <code>hexo g</code>  , <code>hexo s</code> 查看效果！<br>主页 <code>High</code> 起来，摇动。改动方法！<br><code>themes\next\layout\_layout.swig</code><br>前添加：<br><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;link href=<span class="string">"http://7u2ss1.com1.z0.glb.clouddn.com/harlem-shake-style.css"</span> rel=<span class="string">"stylesheet"</span> <span class="class"><span class="keyword">type</span></span>=<span class="string">"text/css"</span> /&gt;</span><br></pre></td></tr></table></figure></p>
<p>地址改为你自己的CSS。失效了不怪！<br><em>如果只是想当播放器听歌的话改 high.swig 文件内容为：</em><br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;a title=<span class="string">"收藏到书签，偶尔High一下^_^"</span> rel=<span class="string">"alternate"</span> <span class="keyword">class</span>=<span class="string">"mw-harlem_shake_slow wobble shake"</span> href='javascript:(</span><br><span class="line">    <span class="comment">/*</span><br><span class="line">     * Copyright (C) 2015 Rocko (rocko.xyz) &lt;rocko.zxp@gmail.com&gt;</span><br><span class="line">     *</span><br><span class="line">     * Licensed under the Apache License, Version 2.0 (the "License");</span><br><span class="line">     * you may not use this file except in compliance with the License.</span><br><span class="line">     * You may obtain a copy of the License at</span><br><span class="line">     *</span><br><span class="line">     *      http://www.apache.org/licenses/LICENSE-2.0</span><br><span class="line">     *</span><br><span class="line">     * Unless required by applicable law or agreed to in writing, software</span><br><span class="line">     * distributed under the License is distributed on an "AS IS" BASIS,</span><br><span class="line">     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br><span class="line">     * See the License for the specific language governing permissions and</span><br><span class="line">     * limitations under the License.</span><br><span class="line">     */</span></span><br><span class="line">    function go() &#123;</span><br><span class="line">    </span><br><span class="line">      <span class="keyword">var</span> songs = [</span><br><span class="line">          <span class="string">"http://7u2ss1.com1.z0.glb.clouddn.com/%E9%AB%98%E6%A2%A8%E5%BA%B7%E6%B2%BB%20-%20%E5%AD%A4%E7%8B%AC.mp3"</span>, </span><br><span class="line">          <span class="string">"http://7u2ss1.com1.z0.glb.clouddn.com/one%20by%20one.mp3"</span>,</span><br><span class="line">          <span class="string">"http://7u2ss1.com1.z0.glb.clouddn.com/Enya%20-%20Only%20Time.mp3"</span>,</span><br><span class="line">          <span class="string">"http://7u2ss1.com1.z0.glb.clouddn.com/Enya%20-%20May%20It%20Be.mp3"</span>,        </span><br><span class="line">          <span class="string">"......"</span></span><br><span class="line">      ];</span><br><span class="line"> </span><br><span class="line">      function <span class="built_in">S</span>() &#123;</span><br><span class="line">          <span class="keyword">var</span> <span class="keyword">e</span> = document.getElementById(<span class="string">"audio_element_id"</span>);</span><br><span class="line">          <span class="keyword">if</span>(<span class="keyword">e</span> != null)&#123;</span><br><span class="line">              <span class="keyword">var</span> index = parseInt(<span class="keyword">e</span>.getAttribute(<span class="string">"curSongIndex"</span>));</span><br><span class="line">              <span class="keyword">if</span>(index &gt; songs.length - 2) &#123;</span><br><span class="line">                  index = 0;</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                  index++;</span><br><span class="line">              &#125;</span><br><span class="line">              <span class="keyword">e</span>.setAttribute(<span class="string">"curSongIndex"</span>, index);</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">e</span>.src = i;</span><br><span class="line">          <span class="keyword">e</span>.play()</span><br><span class="line">      &#125;</span><br><span class="line">      function initAudioEle() &#123;</span><br><span class="line">          <span class="keyword">var</span> <span class="keyword">e</span> = document.getElementById(<span class="string">"audio_element_id"</span>);</span><br><span class="line">          <span class="keyword">if</span>(<span class="keyword">e</span> === null)&#123;</span><br><span class="line">            <span class="keyword">e</span> = document.createElement(<span class="string">"audio"</span>);</span><br><span class="line">            <span class="keyword">e</span>.setAttribute(<span class="string">"curSongIndex"</span>, 0);</span><br><span class="line">            <span class="keyword">e</span>.id = <span class="string">"audio_element_id"</span>;</span><br><span class="line">            <span class="keyword">e</span>.loop = false;</span><br><span class="line">            <span class="keyword">e</span>.bgcolor = 0;</span><br><span class="line">            <span class="keyword">e</span>.innerHTML = <span class="string">" &lt;p&gt;If you are reading this, it is because your browser does not support the audio element. We recommend that you get a new browser.&lt;/p&gt; &lt;p&gt;"</span>;</span><br><span class="line">            document.body.appendChild(<span class="keyword">e</span>);</span><br><span class="line">            <span class="keyword">e</span>.addEventListener(<span class="string">"ended"</span>, function() &#123;</span><br><span class="line">              go();</span><br><span class="line">            &#125;, true);</span><br><span class="line">          &#125;        </span><br><span class="line">      &#125;</span><br><span class="line">    </span><br><span class="line">      initAudioEle();</span><br><span class="line">      <span class="keyword">var</span> curSongIndex = parseInt(document.getElementById(<span class="string">"audio_element_id"</span>).getAttribute(<span class="string">"curSongIndex"</span>));</span><br><span class="line">      <span class="keyword">var</span> i = songs[curSongIndex];</span><br><span class="line">      <span class="built_in">S</span>();</span><br><span class="line">    &#125;)()'&gt;</span><br><span class="line">    &lt;i <span class="keyword">class</span>=<span class="string">"fa fa-music"</span>&gt;&lt;/i&gt; 听音乐&lt;/a&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="作者头像变成圆形"><a href="#作者头像变成圆形" class="headerlink" title="作者头像变成圆形"></a>作者头像变成圆形</h1><p>打开自定义CSS： <code>\themes\next\source\css\_custom\custom.styl</code> 加入<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.site-author-image</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">2px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">2px</span> dashed <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">animation</span>: cycle <span class="number">2s</span> <span class="number">0.5s</span> forwards;</span><br><span class="line">  <span class="attribute">transition</span>: border-radius <span class="number">2s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>博主名字号大小,也在 <code>custom.styl</code> 文件:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.site-author-name</span> &#123;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="动态title改动"><a href="#动态title改动" class="headerlink" title="动态title改动"></a>动态title改动</h1><p>先看代码如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--崩溃欺骗--&gt;</span><br><span class="line"><span class="keyword">var</span> OriginTitile = <span class="built_in">document</span>.title;</span><br><span class="line"> <span class="keyword">var</span> titleTime;</span><br><span class="line"> <span class="built_in">document</span>.addEventListener(<span class="string">'visibilitychange'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">     <span class="keyword">if</span> (<span class="built_in">document</span>.hidden) &#123;</span><br><span class="line">         $(<span class="string">'[rel="icon"]'</span>).attr(<span class="string">'href'</span>, <span class="string">"/img/TEP.ico"</span>);</span><br><span class="line">         <span class="built_in">document</span>.title = <span class="string">'╭(°A°`)╮ 页面崩溃啦 ~ | 量子广告！'</span>;</span><br><span class="line">         clearTimeout(titleTime);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">else</span> &#123;</span><br><span class="line">         $(<span class="string">'[rel="icon"]'</span>).attr(<span class="string">'href'</span>, <span class="string">"/favicon.ico"</span>);</span><br><span class="line">         <span class="built_in">document</span>.title = <span class="string">'(ฅ&gt;ω&lt;*ฅ) 噫又好了~'</span> + OriginTitile;</span><br><span class="line">         titleTime = setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">             <span class="built_in">document</span>.title = OriginTitile;</span><br><span class="line">         &#125;, <span class="number">2000</span>);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure>
<p>做为JS引用时，可以直接将上面代码保存为XXX.js，然后引用。在 <code>\themes\next\layout\_layout.swig</code> 最下边引用加入：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--崩溃欺骗--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"/js/src/duoshuoshuo.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h1 id="hexo站点添加sitemap网站地图"><a href="#hexo站点添加sitemap网站地图" class="headerlink" title="hexo站点添加sitemap网站地图"></a>hexo站点添加sitemap网站地图</h1><h2 id="安装hexo的sitemap网站地图生成插件"><a href="#安装hexo的sitemap网站地图生成插件" class="headerlink" title="安装hexo的sitemap网站地图生成插件"></a>安装hexo的sitemap网站地图生成插件</h2><p>进入 <code>hexo</code> 根目录，打开 <code>git</code><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-generator-sitemap <span class="comment">--save</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-generator-baidu-sitemap <span class="comment">--save</span></span><br></pre></td></tr></table></figure></p>
<h2 id="在你的hexo站点的-config-yml添加下面的代码，注意缩进格式！"><a href="#在你的hexo站点的-config-yml添加下面的代码，注意缩进格式！" class="headerlink" title="在你的hexo站点的_config.yml添加下面的代码，注意缩进格式！"></a>在你的hexo站点的_config.yml添加下面的代码，注意缩进格式！</h2><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># hexo sitemap网站地图</span></span><br><span class="line"><span class="symbol">sitemap:</span></span><br><span class="line"><span class="symbol">  path:</span> sitemap.xml</span><br><span class="line"><span class="symbol">baidusitemap:</span></span><br><span class="line"><span class="symbol">  path:</span> baidusitemap.xml</span><br></pre></td></tr></table></figure>
<h3 id="配置成功后"><a href="#配置成功后" class="headerlink" title="配置成功后"></a>配置成功后</h3><p>hexo编译时会在hexo站点根目录生成sitemap.xml和baidusitemap.xml<br>其中sitemap.xml适合提交给谷歌搜素引擎，baidusitemap.xml适合提交百度搜索引擎。<br>其次，在robots.txt中添加下面的一段代码：<br><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">Sitemap:</span> <span class="string">http:</span><span class="comment">//你的域名/sitemap.xml</span></span><br><span class="line"><span class="string">Sitemap:</span> <span class="string">http:</span><span class="comment">//你的域名/baidusitemap.xml</span></span><br></pre></td></tr></table></figure></p>
<p>请自行改成自己的网站。</p>
<h1 id="多说评论不稳定，加载速度慢怎么办？"><a href="#多说评论不稳定，加载速度慢怎么办？" class="headerlink" title="多说评论不稳定，加载速度慢怎么办？"></a>多说评论不稳定，加载速度慢怎么办？</h1><p>把多说评论依赖的 <code>embed.js</code> 放置底部，这里需要修改的文件是 <code>duoshuo.swig</code> 。<br>文件路径： <code>X:\myblog-hexo\themes\next\layout\_scripts\third-party\comments</code><br>将<br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">document.getElementsByTagName</span>(<span class="symbol">'head</span>')[<span class="name">0</span>]</span><br></pre></td></tr></table></figure></p>
<p>修改成下面的代码<br><figure class="highlight scheme"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="name">document.getElementById</span>(<span class="symbol">'footer</span>')</span><br></pre></td></tr></table></figure></p>
<h1 id="给-Github-添加-README"><a href="#给-Github-添加-README" class="headerlink" title="给 Github 添加 README"></a>给 Github 添加 README</h1><p>默认情况下， <code>Github</code> 中每一个项目，我们希望有一份 <code>README.md</code> 的文件来作为项目的说明，但是我们在项目根目录下的 <code>blog\source</code> 目录下创建一份 <code>README.md</code> 文件，写好说明介绍，部署的时候，这个 <code>README.md</code> 会被 <code>hexo</code> 解析掉，而不会被解析到 <code>Github</code> 中去的。<br>正确的解决方法其实很简单：<br>把 <code>README.md</code> 文件的后缀名改成 <code>MDOWN</code> 然后扔到 <code>blog/source</code> 文件夹下即可，这样 <code>hexo</code> 不会解析， <code>Github</code> 也会将其作为MD文件解析。</p>
<h1 id="代码块自定义样式-内的"><a href="#代码块自定义样式-内的" class="headerlink" title="代码块自定义样式``内的"></a>代码块自定义样式``内的</h1><p>打开自定义CSS： <code>\themes\next\source\css\_custom\custom.styl</code> 加入<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 代码块自定义样式``内的</span></span><br><span class="line"><span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fc6423</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#fbf7f8</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">2px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 大代码块的自定义样式</span></span><br><span class="line"><span class="selector-class">.highlight</span>, pre &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">5px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.highlight</span>, <span class="selector-tag">code</span>, pre &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#d6d6d6</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h1 id="博客部署的message"><a href="#博客部署的message" class="headerlink" title="博客部署的message"></a>博客部署的message</h1><p><code>\node_modules\hexo-deployer-git\lib\deployer.js</code> 文件末尾找到这一句：<br><figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Site <span class="symbol">updated:</span> <span class="template-variable">&#123;&#123; now(<span class="string">'YYYY-MM-DD HH:mm:ss'</span>) &#125;&#125;</span>.</span><br></pre></td></tr></table></figure></p>
<p>改得个性化一点：<br><figure class="highlight xquery"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这个勤奋的家伙又更新了: &#123;&#123; now(\<span class="string">'YYYY-MM-DD HH:mm:ss\'</span>) &#125;&#125;.</span><br></pre></td></tr></table></figure></p>
<h1 id="博文置顶"><a href="#博文置顶" class="headerlink" title="博文置顶"></a>博文置顶</h1><h2 id="修改-hexo-generator-index-插件"><a href="#修改-hexo-generator-index-插件" class="headerlink" title="修改 hexo-generator-index 插件"></a>修改 <code>hexo-generator-index</code> 插件</h2><p>替换文件：<code>node_modules/hexo-generator-index/lib/generator.js</code>为：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"><span class="keyword">var</span> pagination = <span class="built_in">require</span>(<span class="string">'hexo-pagination'</span>);</span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span>(<span class="params">locals</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> config = <span class="keyword">this</span>.config;</span><br><span class="line">  <span class="keyword">var</span> posts = locals.posts;</span><br><span class="line">    posts.data = posts.data.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a, b</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(a.top &amp;&amp; b.top) &#123; <span class="comment">// 两篇文章top都有定义</span></span><br><span class="line">            <span class="keyword">if</span>(a.top == b.top) <span class="keyword">return</span> b.date - a.date; <span class="comment">// 若top值一样则按照文章日期降序排</span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> b.top - a.top; <span class="comment">// 否则按照top值降序排</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(a.top &amp;&amp; !b.top) &#123; <span class="comment">// 以下是只有一篇文章top有定义，那么将有top的排在前面（这里用异或操作居然不行233）</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(!a.top &amp;&amp; b.top) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> b.date - a.date; <span class="comment">// 都没定义按照文章日期降序排</span></span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="keyword">var</span> paginationDir = config.pagination_dir || <span class="string">'page'</span>;</span><br><span class="line">  <span class="keyword">return</span> pagination(<span class="string">''</span>, posts, &#123;</span><br><span class="line">    perPage: config.index_generator.per_page,</span><br><span class="line">    layout: [<span class="string">'index'</span>, <span class="string">'archive'</span>],</span><br><span class="line">    format: paginationDir + <span class="string">'/%d/'</span>,</span><br><span class="line">    data: &#123;</span><br><span class="line">      __index: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h2 id="设置文章置顶"><a href="#设置文章置顶" class="headerlink" title="设置文章置顶"></a>设置文章置顶</h2><p>在文章 <code>Front-matter</code> 中添加 <code>top</code> 值，数值越大文章越靠前，如：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> Hexo+nexT主题配置备忘</span><br><span class="line"><span class="attr">date:</span> <span class="number">2016</span><span class="bullet">-12</span><span class="bullet">-14</span> <span class="number">11</span>:<span class="number">49</span>:<span class="number">33</span></span><br><span class="line"><span class="attr">tags:</span> [Hexo,next-theme,Seo]</span><br><span class="line"><span class="attr">categories:</span> 学习笔记</span><br><span class="line"><span class="attr">top:</span> <span class="number">10</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></p>
<h1 id="NexT主题自定义面页无序列表样式"><a href="#NexT主题自定义面页无序列表样式" class="headerlink" title="NexT主题自定义面页无序列表样式"></a>NexT主题自定义面页无序列表样式</h1><p>打开自定义CSS： <code>\themes\next\source\css\_custom\custom.styl</code> 加入：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line"><span class="attribute">list-style-type</span>: circle;  <span class="comment">// 空心圆，实心圆为 disc</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>以上是我用到的细节改变，并不一定适合你，请选择改动！<br>部分内容来自以下博客：<br><a href="http://www.wuxubj.cn" target="_blank" rel="external">务虚笔记</a><br><a href="http://ehlxr.me" target="_blank" rel="external">小桥流水人家</a><br><a href="http://www.iamlj.com" target="_blank" rel="external">Jing’s Blog</a><br><a href="https://notes.wanghao.work/" target="_blank" rel="external">Doublemine</a><br><a href="http://lovenight.github.io" target="_blank" rel="external">岁月如歌</a><br><a href="http://hunao.info" target="_blank" rel="external">胡闹的日子</a><br><a href="https://neveryu.github.io" target="_blank" rel="external">Never_yu’s Blog </a><br>未列完全，有些实在是找不到地址了，同样感谢。</p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> next-theme </tag>
            
            <tag> Seo </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Hexo Seo优化搜索排名]]></title>
      <url>/2016/hexo-optimize-seo.html</url>
      <content type="html"><![CDATA[<h1 id="首页title优化"><a href="#首页title优化" class="headerlink" title="首页title优化"></a>首页title优化</h1><p>更改index.swig文件<code>(your-hexo-site\themes\next\layout)</code>;<br>将下面这段代码<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">block</span></span> title %&#125;</span><span class="xml"> </span><span class="template-variable">&#123;&#123; config.title &#125;&#125;</span><span class="xml"> </span><span class="template-tag">&#123;% <span class="name"><span class="name">endblock</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p>
<p>改成<br><figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">block</span></span> title %&#125;</span><span class="xml"> </span><span class="template-variable">&#123;&#123; config.title &#125;&#125;</span><span class="xml"> - </span><span class="template-variable">&#123;&#123; theme.description &#125;&#125;</span><span class="xml"> </span><span class="template-tag">&#123;% <span class="name"><span class="name">endblock</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure></p>
<p>这时候你的首页会更符合网站名称 - 网站描述这习惯。<br>进阶，做了<code>seo</code>优化，把关键词也显示在<code>title</code>标题里，可改成：    </p>
<figure class="highlight django"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">block</span></span> title %&#125;</span><span class="xml"> </span><span class="template-variable">&#123;&#123; theme.keywords &#125;&#125;</span><span class="xml"> - </span><span class="template-variable">&#123;&#123; config.title &#125;&#125;</span><span class="xml"></span><span class="template-variable">&#123;&#123; theme.description &#125;&#125;</span><span class="xml"> </span><span class="template-tag">&#123;% <span class="name"><span class="name">endblock</span></span> %&#125;</span><span class="xml"></span></span><br></pre></td></tr></table></figure>
<p>让你的关键字出现在<code>title</code>标题里<br><strong>注意：</strong> <em>关键字出现在<code>title</code>标题里是有利于<code>seo</code>优化的，前提是你的目标关键词已经确定好。如果确定好的话，尽可能让它们在<code>title</code>标题尽量靠前，同时标题总字数注意控制在<code>80</code>个字符以内，切勿堆砌关键字。<code>title</code>的标点符号：关键词分割符号英文半角逗号<code>，_ | ;</code>品牌与关键词分割符号 <code>-</code></em></p>
<a id="more"></a>
<h1 id="给你的hexo站点添加sitemap网站地图"><a href="#给你的hexo站点添加sitemap网站地图" class="headerlink" title="给你的hexo站点添加sitemap网站地图"></a>给你的hexo站点添加sitemap网站地图</h1><ul>
<li><p>安装hexo的sitemap网站地图生成插件 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-generator-sitemap <span class="comment">--save</span></span><br><span class="line">npm <span class="keyword">install</span> hexo-generator-baidu-sitemap <span class="comment">--save</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>在你的hexo站点的<code>_config.yml</code>添加下面的代码(注意缩进格式)</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># hexo sitemap网站地图</span></span><br><span class="line"><span class="symbol">sitemap:</span></span><br><span class="line"><span class="symbol">  path:</span> sitemap.xml</span><br><span class="line"><span class="symbol">baidusitemap:</span></span><br><span class="line"><span class="symbol">  path:</span> baidusitemap.xml</span><br></pre></td></tr></table></figure>
</li>
<li><p>配置成功后，hexo编译时会在hexo站点根目录生成sitemap.xml和baidusitemap.xml<br>其中sitemap.xml适合提交给谷歌搜素引擎，baidusitemap.xml适合提交百度搜索引擎。<br>其次，在robots.txt中添加下面的一段代码：</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">Sitemap:</span> <span class="string">http:</span><span class="comment">//yoursite.com/sitemap.xml</span></span><br><span class="line"><span class="string">Sitemap:</span> <span class="string">http:</span><span class="comment">//yoursite.com/baidusitemap.xml</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>请自行改成自己的网站。</p>
<h1 id="给你的hexo网站添加蜘蛛协议robots-txt"><a href="#给你的hexo网站添加蜘蛛协议robots-txt" class="headerlink" title="给你的hexo网站添加蜘蛛协议robots.txt"></a>给你的hexo网站添加蜘蛛协议robots.txt</h1><p>可以参考我的robots.txt，代码如下<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta"># hexo robots.txt</span></span><br><span class="line">User-agent: *</span><br><span class="line"><span class="symbol">Allow:</span> /</span><br><span class="line"><span class="symbol">Allow:</span> <span class="meta-keyword">/archives/</span></span><br><span class="line"><span class="symbol">Allow:</span> <span class="meta-keyword">/tags/</span></span><br><span class="line"><span class="symbol">Allow:</span> <span class="meta-keyword">/guestbook/</span></span><br><span class="line"><span class="symbol">Allow:</span> <span class="meta-keyword">/links/</span></span><br><span class="line"><span class="symbol">Allow:</span> <span class="meta-keyword">/about/</span></span><br><span class="line"><span class="symbol"></span><br><span class="line">Disallow:</span> <span class="meta-keyword">/vendors/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/js/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/css/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/fonts/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/vendors/</span></span><br><span class="line"><span class="symbol">Disallow:</span> <span class="meta-keyword">/fancybox/</span></span><br><span class="line"><span class="symbol"></span><br><span class="line">Sitemap:</span> http:<span class="comment">//blog.ynxiu.com/sitemap.xml</span></span><br><span class="line"><span class="symbol">Sitemap:</span> http:<span class="comment">//blog.ynxiu.com/baidusitemap.xml</span></span><br></pre></td></tr></table></figure></p>
<p><em>把robots.txt放在你的hexo站点的source文件下即可。</em></p>
<p>然后<code>hexo g -d</code> or <code>hexo d -g</code>提交一下，指的是生成后马上部署站点。</p>
<h1 id="注册Google-Search-Console"><a href="#注册Google-Search-Console" class="headerlink" title="注册Google Search Console"></a>注册Google Search Console</h1><ul>
<li>链接：<a href="https://www.google.com/webmasters/" target="_blank" rel="external">https://www.google.com/webmasters/</a></li>
<li>根据提示注册好之后，添加你的博客域名。</li>
<li>然后点击你的域名进入。</li>
<li>测试<code>robots.txt</code></li>
</ul>
<p>点击左侧的<code>robots.txt</code>测试工具，根据提示提交你的<code>robots.txt</code>。<br><em>注意要<strong>0</strong>错误才可以，如果有错误的话，会有提示，改正确就可以了。</em></p>
<h1 id="提交站点地图"><a href="#提交站点地图" class="headerlink" title="提交站点地图"></a>提交站点地图</h1><p>还记得我们刚才创建创建<code>sitemap.xml</code>文件吧，点击左侧工具栏的<code>站点地图</code>。<br>然后点<em>右上角</em>的<code>添加/测试站点地图</code>。输入<code>sitemap</code>先点测试，如果没问题的话，再提交。</p>
<h1 id="Google-抓取方式"><a href="#Google-抓取方式" class="headerlink" title="Google 抓取方式"></a>Google 抓取方式</h1><p>提交站点地图之后，点击左侧的<code>Google</code> 抓取方式<br>在这里我们填上我们需要抓取的<code>url</code>,不填这表示抓取首页，抓取方式可以选择桌面，智能手机等等，自行根据需要选择。填好<code>url</code>之后，点击抓取。<br>然后可能会出现几种情况，如:完成、部分完成、重定向等，自由这三种情况是可以提交的。<br>提交完成后，<strong>提交至索引</strong>，根据提示操作就可以了。<br>比如：下边的页面，也可以是文章的地址~~<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">archives/</span><br><span class="line">tags/</span><br><span class="line">guestbook/</span><br><span class="line">links/</span><br><span class="line"><span class="keyword">about</span>/</span><br></pre></td></tr></table></figure></p>
<p>到此<code>Google</code>收录提交方式完成。</p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Seo </tag>
            
            <tag> Google </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[暂存git stash 命令]]></title>
      <url>/2016/Git-stash-xiangjie.html</url>
      <content type="html"><![CDATA[<p>当在一个分支的开发工作未完成，却又要切换到另外一个分支进行开发的时候，除了commit原分支的代码改动的方法外，我觉得git stash是一个更加便捷的选择。<br>步骤如下：</p>
<hr>
<h1 id="添加改动到stash。"><a href="#添加改动到stash。" class="headerlink" title="添加改动到stash。"></a>添加改动到stash。</h1><p>在原分支 <code>git stash save -a &quot;messeag&quot;</code>，网上很多很多资料都没有加 <code>-a</code> 这个<code>option</code>选项，我想他们的代码开发可能都是在原代码上进行修改吧。而对于在项目里加入了代码新文件的开发来说，<code>-a</code>选项才会将新加入的代码文件同时放入暂存区。</p>
<h1 id="恢复改动。"><a href="#恢复改动。" class="headerlink" title="恢复改动。"></a>恢复改动。</h1><p>如果你要恢复的是最近的一次改动，<code>git stash pop</code>即可，我用这个用的最多。如果有多次<code>stash</code>操作，那就通过<code>git stash list</code>查看<code>stash</code>列表，从中选择你想要<code>pop</code>的<code>stash</code>，运行命令<code>git stash pop stash@{id}</code>或者<code>git stash apply stash@{id}</code>即可。这方面网上的资料挺多的。</p>
<a id="more"></a>
<h1 id="删除stash。"><a href="#删除stash。" class="headerlink" title="删除stash。"></a>删除stash。</h1><p><code>git stash drop &lt;stash@{id}&gt;</code>  如果不加<code>stash</code>编号，默认的就是删除最新的，也就是编号为0的那个，加编号就是删除指定编号的<code>stash</code>。<code>git  stash clear</code>是清除所有<code>stash</code>,整个世界一下子清净了！</p>
<blockquote>
<p><code>git stash pop</code>  与 <code>git stash apply &lt;stash@{id}&gt;</code> 的区别。 </p>
</blockquote>
<p>当我使用<code>git stash pop</code>和 <code>git stash apply</code> 几次以后，我发现<code>stash  list</code> 好像比我预计的多了几个<code>stash</code>。于是我便上网去了解了一下这两个命令的区别。原来<code>git stash pop stash@{id}</code>命令会在执行后将对应的<code>stash id 从stash list</code>里删除，而<code>git stash apply stash@{id}</code> 命令则会继续保存<code>stash id</code>。对于有点强迫症的我来说，是容不下越来越多的陈旧<code>stash id</code> 仍然存在的，所以我更习惯于用<code>git stash pop</code>命令。</p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> Git </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[NexT主题自定义面页无序列表样式]]></title>
      <url>/2016/next-aboutlist.html</url>
      <content type="html"><![CDATA[<p><a href="https://github.com/iissnan/hexo-theme-next/issues/934" title="点我看方法！" target="_blank" rel="external">原文请看感谢@weeson大神提供的方法</a>。<br>不知道是什么原因，自定义页面列表都没有样式。很不方便。修改方法如下<br>解决about等页面无序列表不显示小圆圈问题<br>在样式文件的<code>blog\themes\next\source\css_custom</code>文件夹下找到<code>custom.styl</code>文件</p>
<a id="more"></a>
<p>加入：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line"><span class="attribute">list-style-type</span>: disc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>以上为实心圆，如需要调整到和文章页面相同的空心圆，修改为：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line"><span class="attribute">list-style-type</span>: circle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> NexT主题 </tag>
            
            <tag> 样式 </tag>
            
            <tag> list </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[Git中的.gitignore的语法规范]]></title>
      <url>/2016/Git-gitignore-yufa.html</url>
      <content type="html"><![CDATA[<p>当我们需要将一个项目提交到Git时，并不是所有的文件都需要提交，比如一些自动生成的文件，这时候就可以使用<code>.gitignore</code>来忽略一些不需要提交的文件，本文着重介绍一下<code>.gitignore</code>的配置语法。</p>
<h1 id="创建"><a href="#创建" class="headerlink" title="创建"></a>创建</h1><p>由于Windows下创建文件必须键入文件名，而要创建的<code>.gitignore</code>是没有文件名的，所以我们可以使用move命令来实现，打开<code>Git Bash</code> ，使用 <code>mv gitignore .gitignore</code>，然后可以编辑器编辑这个文件。</p>
<a id="more"></a>
<h1 id="语法规范"><a href="#语法规范" class="headerlink" title="语法规范"></a>语法规范</h1><ul>
<li>空行或是以<code>#开</code>头的行即注释行将被忽略。</li>
<li>可以在前面添加正斜杠<code>/</code>来避免递归,下面的例子中可以很明白的看出来与上一个的区别。</li>
<li>可以在后面添加正斜杠<code>/</code>来定义文件夹，例如<code>build/</code>。</li>
<li>可以使用<code>!</code>来否定忽略，即比如在前面用了<code>*.apk</code>，然后使用!<code>a.apk</code>，则这个<code>a.apk</code>不会被忽略。</li>
<li><code>*</code>用来匹配零个或多个字符，如<code>*.[oa]</code>忽略所有以”.o”或”.a”结尾，<code>*~</code>忽略所有以<code>~</code>结尾的文件（这种文件通常被许多编辑器标记为临时文件）；<code>[]</code>用来匹配括号内的任一字符，如<code>[abc]</code>，也可以在括号内加连接符，如<code>[0-9]</code>匹配0至9的数；<code>?</code>用来匹配单个字符。<br>看了这么多，还是应该来个例子：</li>
</ul>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># no .a files</span></span><br><span class="line">*.a</span><br><span class="line"></span><br><span class="line"><span class="comment"># but do track lib.a, even though you're ignoring .a files above</span></span><br><span class="line">!<span class="class"><span class="keyword">lib</span>.<span class="title">a</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment"># only ignore the TODO file in the current directory, not subdir/TODO</span></span><br><span class="line">/TODO</span><br><span class="line"></span><br><span class="line"><span class="comment"># ignore all files in the build/ directory</span></span><br><span class="line">build/</span><br><span class="line"></span><br><span class="line"><span class="comment"># ignore doc/notes.txt, but not doc/server/arch.txt</span></span><br><span class="line">doc/*.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># ignore all .pdf files in the doc/ directory</span></span><br><span class="line">doc/**<span class="regexp">/*.pdf</span></span><br></pre></td></tr></table></figure>
<p>更多gitignore格式请参考：<br><a href="https://github.com/github/gitignore" title="gitignore collection on github" target="_blank" rel="external">gitignore collection on github</a></p>
<p><a href="https://git-scm.com/book/en/v2/Git-Basics-Recording-Changes-to-the-Repository#Ignoring-Files" title="The Ignoring Files chapter of the Pro Git book" target="_blank" rel="external">The Ignoring Files chapter of the Pro Git book</a></p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> git </tag>
            
            <tag> 语法 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[如何看明白diff]]></title>
      <url>/2016/how-to-read-diff.html</url>
      <content type="html"><![CDATA[<p>它用来比较两个文本文件的差异，是代码版本管理的基石之一。你在命令行下，输入：</p>
<blockquote>
<p>$ diff &lt;变动前的文件&gt; &lt;变动后的文件&gt;</p>
</blockquote>
<h1 id="diff的三种格式"><a href="#diff的三种格式" class="headerlink" title="diff的三种格式"></a>diff的三种格式</h1><p>由于历史原因，diff有三种格式：</p>
<blockquote>
<p>正常格式（normal diff）<br>上下文格式（context diff）<br>合并格式（unified diff）</p>
</blockquote>
<p>接下来请看具体示例。</p>
<a id="more"></a>
<h1 id="示例文件"><a href="#示例文件" class="headerlink" title="示例文件"></a>示例文件</h1><p>为了便于讲解，先新建两个示例文件。<br>第一个文件叫做f1，内容是每行一个a，一共7行。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">　　<span class="selector-tag">a</span></span><br><span class="line">　　<span class="selector-tag">a</span></span><br><span class="line">　　<span class="selector-tag">a</span></span><br><span class="line">　　<span class="selector-tag">a</span></span><br><span class="line">　　<span class="selector-tag">a</span></span><br><span class="line">　　<span class="selector-tag">a</span></span><br><span class="line">　　a</span><br></pre></td></tr></table></figure></p>
<p>第二个文件叫做f2，修改f1而成，第4行变成b，其他不变。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">　　<span class="selector-tag">a</span></span><br><span class="line">　　<span class="selector-tag">a</span></span><br><span class="line">　　<span class="selector-tag">a</span></span><br><span class="line">　　<span class="selector-tag">b</span></span><br><span class="line">　　<span class="selector-tag">a</span></span><br><span class="line">　　<span class="selector-tag">a</span></span><br><span class="line">　　a</span><br></pre></td></tr></table></figure></p>
<h1 id="正常格式的diff"><a href="#正常格式的diff" class="headerlink" title="正常格式的diff"></a>正常格式的diff</h1><p>现在对f1和f2进行比较：<br>　　$ diff f1 f2<br>这时，diff就会显示正常格式的结果：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">　　<span class="number">4</span>c4</span><br><span class="line">　　&lt; <span class="selector-tag">a</span></span><br><span class="line">　　---</span><br><span class="line">　　&gt; <span class="selector-tag">b</span></span><br><span class="line">　　&gt;</span><br></pre></td></tr></table></figure></p>
<p>第一行是一个提示，用来说明变动位置。<br><code>4c4</code><br>它分成三个部分：前面的”4”，表示f1的第4行有变化；中间的”c”表示变动的模式是内容改变（change），其他模式还有”增加”（a，代表addition）和”删除”（d，代表deletion）；后面的”4”，表示变动后变成f2的第4行。<br>第二行分成两个部分。<br><code>&lt; a</code><br>前面的小于号，表示要从f1当中去除该行（也就是第4行），后面的”a”表示该行的内容。<br>第三行用来分割f1和f2。<br><code>---</code><br>第四行，类似于第二行。<br><code>\&gt; b</code><br>前面的大于号表示f2增加了该行，后面的”b”表示该行的内容。<br>最早的Unix（即AT&amp;T版本的Unix），使用的就是这种格式的diff。</p>
<h1 id="上下文格式的diff"><a href="#上下文格式的diff" class="headerlink" title="上下文格式的diff"></a>上下文格式的diff</h1><p>上个世纪80年代初，加州大学伯克利分校推出BSD版本的Unix时，觉得diff的显示结果太简单，最好加入上下文，便于了解发生的变动。因此，推出了上下文格式的diff。<br>它的使用方法是加入c参数（代表context）。<br><code>$ diff -c f1 f2</code><br>显示结果如下：<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">　　*** f1	<span class="number">2012</span><span class="number">-08</span><span class="number">-29</span> <span class="number">16</span>:<span class="number">45</span>:<span class="number">41.000000000</span> +<span class="number">0800</span></span><br><span class="line">　　<span class="comment">--- f2	2012-08-29 16:45:51.000000000 +0800</span></span><br><span class="line">　　***************</span><br><span class="line">　　*** <span class="number">1</span>,<span class="number">7</span> ****</span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　!<span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　<span class="comment">--- 1,7 ----</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　!b</span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br></pre></td></tr></table></figure></p>
<p>这个结果分成四个部分。<br>第一部分的两行，显示两个文件的基本情况：文件名和时间信息。<br><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">　　*** f<span class="number">1	2012-08</span>-<span class="number">29 16:45:41</span>.<span class="number">000000000</span> +<span class="number">0800</span></span><br><span class="line">　　--- f<span class="number">2	2012-08</span>-<span class="number">29 16:45:51</span>.<span class="number">000000000</span> +<span class="number">0800</span></span><br></pre></td></tr></table></figure></p>
<p>“<em>*</em>“表示变动前的文件，”—“表示变动后的文件。<br>第二部分是15个星号，将文件的基本情况与变动内容分割开。<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">　　<span class="strong">*****</span><span class="strong">*****</span><span class="strong">*****</span></span><br></pre></td></tr></table></figure></p>
<p>第三部分显示变动前的文件，即f1。<br><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">　　*** <span class="number">1</span>,<span class="number">7</span> ****</span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　!<span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br><span class="line">　　 <span class="keyword">a</span></span><br></pre></td></tr></table></figure></p>
<p>这时不仅显示发生变化的第4行，还显示第4行的前面三行和后面三行，因此一共显示7行。所以，前面的<code>*** 1,7 ****</code>就表示，从第1行开始连续7行。<br>另外，文件内容的每一行最前面，还有一个标记位。如果为空，表示该行无变化；如果是感叹号（!），表示该行有改动；如果是减号（-），表示该行被删除；如果是加号（+），表示该行为新增。<br>第四部分显示变动后的文件，即f2。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">　　--- <span class="number">1</span>,<span class="number">7</span> ----</span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　!<span class="selector-tag">b</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 a</span><br></pre></td></tr></table></figure></p>
<p>除了变动行（第4行）以外，也是上下文各显示三行，总共显示7行。</p>
<h1 id="合并格式的diff"><a href="#合并格式的diff" class="headerlink" title="合并格式的diff"></a>合并格式的diff</h1><p>如果两个文件相似度很高，那么上下文格式的diff，将显示大量重复的内容，很浪费空间。1990年，GNU diff率先推出了”合并格式”的diff，将f1和f2的上下文合并在一起显示。<br>它的使用方法是加入u参数（代表unified）。</p>
<blockquote>
<p>$ diff -u f1 f2</p>
</blockquote>
<p>显示结果如下：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">　　--- f1	<span class="number">2012</span>-<span class="number">08</span>-<span class="number">29</span> <span class="number">16</span>:<span class="number">45</span>:<span class="number">41.000000000</span> +<span class="number">0800</span></span><br><span class="line">　　+++ f2	<span class="number">2012</span>-<span class="number">08</span>-<span class="number">29</span> <span class="number">16</span>:<span class="number">45</span>:<span class="number">51.000000000</span> +<span class="number">0800</span></span><br><span class="line">　　@@ -<span class="number">1</span>,<span class="number">7</span> +<span class="number">1</span>,<span class="number">7</span> @@</span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　-<span class="selector-tag">a</span></span><br><span class="line">　　+<span class="selector-tag">b</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 a</span><br></pre></td></tr></table></figure></p>
<p>它的第一部分，也是文件的基本信息。<br><figure class="highlight dns"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">　　--- f<span class="number">1	2012-08</span>-<span class="number">29 16:45:41</span>.<span class="number">000000000</span> +<span class="number">0800</span></span><br><span class="line">　　+++ f<span class="number">2	2012-08</span>-<span class="number">29 16:45:51</span>.<span class="number">000000000</span> +<span class="number">0800</span></span><br></pre></td></tr></table></figure></p>
<p>“—“表示变动前的文件，”+++”表示变动后的文件。<br>第二部分，变动的位置用两个@作为起首和结束。<br>　　@@ -1,7 +1,7 @@<br>前面的”-1,7”分成三个部分：减号表示第一个文件（即f1），”1”表示第1行，”7”表示连续7行。合在一起，就表示下面是第一个文件从第1行开始的连续7行。同样的，”+1,7”表示变动后，成为第二个文件从第1行开始的连续7行。<br>第三部分是变动的具体内容。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　-<span class="selector-tag">a</span></span><br><span class="line">　　+<span class="selector-tag">b</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 a</span><br></pre></td></tr></table></figure></p>
<p>除了有变动的那些行以外，也是上下文各显示3行。它将两个文件的上下文，合并显示在一起，所以叫做”合并格式”。每一行最前面的标志位，空表示无变动，减号表示第一个文件删除的行，加号表示第二个文件新增的行。</p>
<h1 id="git格式的diff"><a href="#git格式的diff" class="headerlink" title="git格式的diff"></a>git格式的diff</h1><p>版本管理系统git，使用的是合并格式diff的变体。</p>
<blockquote>
<p>$ git diff</p>
</blockquote>
<p>显示结果如下：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">　　diff --git a/f1 b/f1</span><br><span class="line">　　index <span class="number">6</span>f8a38c..<span class="number">449</span>b072 <span class="number">100644</span></span><br><span class="line">　　--- a/f1</span><br><span class="line">　　+++ b/f1</span><br><span class="line">　　@@ -<span class="number">1</span>,<span class="number">7</span> +<span class="number">1</span>,<span class="number">7</span> @@</span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　-<span class="selector-tag">a</span></span><br><span class="line">　　+<span class="selector-tag">b</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 a</span><br></pre></td></tr></table></figure></p>
<p>第一行表示结果为git格式的diff。</p>
<p><code>diff --git a/f1 b/f1</code></p>
<p>进行比较的是，a版本的f1（即变动前）和b版本的f1（即变动后）。<br>第二行表示两个版本的git哈希值（index区域的6f8a38c对象，与工作目录区域的449b072对象进行比较），最后的六位数字是对象的模式（普通文件，644权限）。<br><code>index 6f8a38c..449b072 100644</code><br>第三行表示进行比较的两个文件。<br><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">　　<span class="comment">--- a/f1</span></span><br><span class="line">　　+++ b/f1</span><br></pre></td></tr></table></figure></p>
<p>“—“表示变动前的版本，”+++”表示变动后的版本。<br>后面的行都与官方的合并格式diff相同。<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">　　@@ -<span class="number">1</span>,<span class="number">7</span> +<span class="number">1</span>,<span class="number">7</span> @@</span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　-<span class="selector-tag">a</span></span><br><span class="line">　　+<span class="selector-tag">b</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 <span class="selector-tag">a</span></span><br><span class="line">　　 a</span><br></pre></td></tr></table></figure></p>
<p>本文引用于<a href="http://www.ruanyifeng.com/blog/2012/08/how_to_read_diff.html" title="大神" target="_blank" rel="external">一峰的文章</a></p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> git </tag>
            
            <tag> 命令 </tag>
            
            <tag> diff </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[NexT主题'留言'页面增加最近访客]]></title>
      <url>/2016/duoshuo-fangke.html</url>
      <content type="html"><![CDATA[<h1 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h1><p>在NexT主题上增加留言板的功能。 </p>
<h1 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h1><h2 id="在菜单中添加guestbook"><a href="#在菜单中添加guestbook" class="headerlink" title="在菜单中添加guestbook"></a>在菜单中添加guestbook</h2><p>修改主题配置文件_config.yml（要注意是NexT目录下的_config.yml，不是hexo站点目录下的_config.yml），即hexo初始化目录下的/themes/next/_config.yml，添加 guestbook 到 menu 中:</p>
<a id="more"></a>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">menu:</span></span><br><span class="line"><span class="symbol">  home:</span> /  </span><br><span class="line">  <span class="meta">#categories: /categories  </span></span><br><span class="line"><span class="symbol">  about:</span> /about  </span><br><span class="line"><span class="symbol">  archives:</span> /archives  </span><br><span class="line"><span class="symbol">  tags:</span> /tags  </span><br><span class="line">  <span class="meta">#commonweal: /404.html  </span></span><br><span class="line"><span class="symbol">  guestbook:</span> /guestbook</span><br></pre></td></tr></table></figure>
<p>这样就在网站menu中增加了一个菜单：guestbook，此时留言板还没有真的实现。</p>
<p>添加对应译文显示</p>
<p>修改NexT主题zh-Hans.yml文件（我用的是简体中文的，其他语言也是类似的），即hexo初始化目录下/themes/next/languages/zh-Hans.yml，添加 guestbook: 留言 到 menu 中<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">menu:</span></span><br><span class="line"><span class="symbol">  home:</span> 首页</span><br><span class="line"><span class="symbol">  archives:</span> 归档</span><br><span class="line"><span class="symbol">  categories:</span> 分类</span><br><span class="line"><span class="symbol">  tags:</span> 标签</span><br><span class="line"><span class="symbol">  about:</span> 关于</span><br><span class="line"><span class="symbol">  search:</span> 搜索</span><br><span class="line"><span class="symbol">  commonweal:</span> 公益<span class="number">404</span></span><br><span class="line"><span class="symbol">  guestbook:</span> 留言</span><br></pre></td></tr></table></figure></p>
<p>这样在网站上就可以显示中文留言两个字。</p>
<h2 id="新建guestbook页面"><a href="#新建guestbook页面" class="headerlink" title="新建guestbook页面"></a>新建guestbook页面</h2><p>新建guestbook页面，<a href="http://theme-next.iissnan.com/theme-settings.html#tags-page" title="添加「标签」页面" target="_blank" rel="external">查看官方方法</a>一样新建guestbook，在hexo初始化目录下，右键选择<code>Git Bash Here</code>。</p>
<p>执行<code>hexo new page &quot;guestbook&quot;</code>。此时会在hexo初始化目录下的/source中看到名为guestbook的文件夹，在index.md中添加<code>comments: true</code>如<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> guestbook</span><br><span class="line"><span class="attr">date:</span> <span class="number">2016</span><span class="bullet">-03</span><span class="bullet">-11</span> <span class="number">22</span>:<span class="number">42</span>:<span class="number">56</span></span><br><span class="line"><span class="attr">comments:</span> <span class="literal">true</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></p>
<h2 id="添加最近访客（多说插件）"><a href="#添加最近访客（多说插件）" class="headerlink" title="添加最近访客（多说插件）"></a>添加最近访客（多说插件）</h2><h3 id="修改guestbook目录下的index-md-在正文部分添加"><a href="#修改guestbook目录下的index-md-在正文部分添加" class="headerlink" title="修改guestbook目录下的index.md,在正文部分添加"></a>修改guestbook目录下的index.md,在正文部分添加</h3><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; 最近访客</span><br><span class="line">&lt;<span class="keyword">div</span> <span class="built_in">class</span>=<span class="string">"ds-recent-visitors"</span> data-num-items=<span class="string">"28"</span> data-avatar-size=<span class="string">"42"</span> <span class="built_in">id</span>=<span class="string">"ds-recent-visitors"</span>&gt;&lt;/<span class="keyword">div</span>&gt;</span><br></pre></td></tr></table></figure>
<h3 id="修改多说CSS"><a href="#修改多说CSS" class="headerlink" title="修改多说CSS"></a>修改多说CSS</h3><p>登陆多说，点击后台管理，选择设置，向下找到自定义CSS，插入如下代码，滑到最底部点击保存即可。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-avatar</span> <span class="selector-tag">img</span>,</span><br><span class="line"><span class="selector-id">#ds-recent-visitors</span> <span class="selector-class">.ds-avatar</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">54px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">54px</span>;     <span class="comment">/*設置圖像的長和寬，這裏要根據自己的評論框情況更改*/</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">27px</span>;     <span class="comment">/*設置圖像圓角效果,在這裏我直接設置了超過width/2的像素，即為圓形了*/</span></span><br><span class="line">    <span class="attribute">-webkit-border-radius</span>: <span class="number">27px</span>;     <span class="comment">/*圓角效果：兼容webkit瀏覽器*/</span></span><br><span class="line">    <span class="attribute">-moz-border-radius</span>: <span class="number">27px</span>;</span><br><span class="line">    <span class="attribute">box-shadow</span>: inset <span class="number">0</span> -<span class="number">1px</span> <span class="number">0</span> <span class="number">#3333</span>sf;     <span class="comment">/*設置圖像陰影效果*/</span></span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> -<span class="number">1px</span> <span class="number">0</span> <span class="number">#3333</span>sf;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#ds-recent-visitors</span> <span class="selector-class">.ds-avatar</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*隱藏多說底部版權*/</span></span><br><span class="line"><span class="selector-id">#ds-thread</span> <span class="selector-id">#ds-reset</span> <span class="selector-class">.ds-powered-by</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>本文转载自： <a href="http://www.lovexing.cn/2016/04/29/NexT%E4%B8%BB%E9%A2%98%E6%96%B0%E5%BB%BA-%E7%95%99%E8%A8%80-%E9%A1%B5%E9%9D%A2/" title="万物博客" target="_blank" rel="external">万物博客</a></p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 多说 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[如何进行远程版本回退]]></title>
      <url>/2016/how-git-version-rollback.html</url>
      <content type="html"><![CDATA[<p>如果远程只有一个master分支,请你创建一个非master分支,然后推送到远程。同时也是备份一下master分支。</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">git</span> <span class="keyword">branch </span>the_master_backup</span><br><span class="line"><span class="symbol">git</span> <span class="keyword">push </span>origin the_master_backup</span><br></pre></td></tr></table></figure>
<p>此时你查看远程分支应该有两个 master和the_master_backup<br>设置默认的分支为 the_master_backup<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git branch -D branch_name //删除本地<span class="literal">master</span>分支</span><br><span class="line"></span><br><span class="line">git push :<span class="keyword">master</span> <span class="title">//推送一个空分支,相当于删除远程master</span>分支</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<h1 id="删除远程分支"><a href="#删除远程分支" class="headerlink" title="删除远程分支"></a>删除远程分支</h1><p>如何删除远程 Master 分支,为什么要删除远程 master 分支?<a href="https://gitcafe.com/GitCafe/Help/wiki/%E5%A6%82%E4%BD%95%E5%88%A0%E9%99%A4-Master-%E5%88%86%E6%94%AF" target="_blank" rel="external">请看这里!</a><br>然后</p>
<h1 id="操作步骤"><a href="#操作步骤" class="headerlink" title="操作步骤"></a>操作步骤</h1><p>然后你在the_master_backup分支上 回滚到你要回滚的commit_id,然后重建master分支并推送到远程,顺便删除the_master_backup分支(包括远程the_master_backup分支)。<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">git checkout the_master_backup</span><br><span class="line"></span><br><span class="line">git reset --hard commit_id</span><br><span class="line"></span><br><span class="line">git branch <span class="keyword">master</span> <span class="title">//重新创建master</span>分支</span><br><span class="line"></span><br><span class="line">git push origin <span class="keyword">master</span> <span class="title">//重新推送master</span>分支</span><br><span class="line"></span><br><span class="line">git branch -D the_master_backup //删除本地the_master_backup分支</span><br><span class="line"></span><br><span class="line">git push origin :the_master_backup//删除远程the_master_backup分支</span><br></pre></td></tr></table></figure></p>
<h1 id="总结过程"><a href="#总结过程" class="headerlink" title="总结过程"></a>总结过程</h1><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">git checkout the_branch</span><br><span class="line"></span><br><span class="line">git pull</span><br><span class="line"></span><br><span class="line">git branch the_branch_backup <span class="comment">//备份一下这个分支当前的情况,如果你开始执行过，这一步可以省略。</span></span><br><span class="line"></span><br><span class="line">git reset --hard the_commit_id <span class="comment">//把the_branch本地回滚到the_commit_id</span></span><br><span class="line"></span><br><span class="line">git <span class="keyword">push</span> origin :the_branch <span class="comment">//删除远程 the_branch</span></span><br><span class="line"></span><br><span class="line">git <span class="keyword">push</span> origin the_branch <span class="comment">//用回滚后的本地分支重新建立远程分支</span></span><br><span class="line"></span><br><span class="line">git <span class="keyword">push</span> origin :the_branch_backup <span class="comment">//如果前面都成功了，删除这个备份分支</span></span><br></pre></td></tr></table></figure>
<p>本文引用于<a href="https://jeffsui.github.io/2015/05/16/how-git-version-rollback/" target="_blank" rel="external">大海的文章</a></p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> git </tag>
            
            <tag> 备份 </tag>
            
            <tag> 命令 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[将hexo博客同时托管到github和coding]]></title>
      <url>/2016/hexo-github-and-coding.html</url>
      <content type="html"><![CDATA[<blockquote>
<p>生命在于折腾！</p>
</blockquote>
<p>hexo博客的安装和使用本文不再讲述。见文章：<a href="http://blog.ynxiu.com/2016/hexo-you-blog.html" title="用hexo建博客">用hexo建博客</a></p>
<p>在coding和github上建立pages项目，按要求建立。不会的自行百度。</p>
<h1 id="配置-config-yml"><a href="#配置-config-yml" class="headerlink" title="配置_config.yml"></a>配置_config.yml</h1><p>想要把博客同时部署到coding和github上，关键一步就是<code>_config.yml</code>配置。</p>
<p>根据Hexo官方文档需要修改成下面的形式<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">deploy:</span></span><br><span class="line"><span class="symbol">  type:</span> git</span><br><span class="line"><span class="symbol">  message:</span> [message]</span><br><span class="line"><span class="symbol">  repo:</span></span><br><span class="line"><span class="symbol">    github:</span> <span class="params">&lt;repository url&gt;</span>,[branch]</span><br><span class="line"><span class="symbol">    gitcafe:</span> <span class="params">&lt;repository url&gt;</span>,[branch]</span><br></pre></td></tr></table></figure></p>
<a id="more"></a>
<p>所以我的是这样：<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">  <span class="attribute">type</span>: git</span><br><span class="line">  <span class="attribute">repo</span>: </span><br><span class="line">       <span class="attribute">coding</span>: git<span class="variable">@git</span>.coding.<span class="attribute">net</span>:xxx/xxx.git,master</span><br><span class="line">       <span class="attribute">github</span>: git<span class="variable">@github</span>.<span class="attribute">com</span>:xxx/xxx.github.io.git,master</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>我这边提交采用的SSH密钥，这个方法有个好处，提交的时候不用输入用户名和密码。如果你习惯用http的方式，只要将地址改成相应的http地址即可。</p>
</blockquote>
<h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><p>最后使用部署命令就能把博客同步到<code>coding</code>和<code>github</code>上面：<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">g</span></span><br><span class="line">hexo <span class="built_in">d</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>以上只是把<code>hexo</code>生成的静态文件部署到<code>coding</code>和<code>github</code>的<code>master</code>分支上。稍等片刻就能用系统给的地址访问到你的博客。</p>
</blockquote>
<h1 id="源文件的备份。"><a href="#源文件的备份。" class="headerlink" title="源文件的备份。"></a>源文件的备份。</h1><blockquote>
<p>如果以后换了工作环镜，电脑也更换了，要如何备份源文件呢。这里我使用了git的支分特性。</p>
</blockquote>
<p>在<code>hexo</code>本地客博根目录打开<code>git bash</code>使用：<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">git</span> init</span><br></pre></td></tr></table></figure></p>
<p>添加 <code>coding</code>和<code>github</code>远程仓库<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin xxx/xxx<span class="selector-class">.git</span>    coding仓库地址</span><br><span class="line">git remote add github xxx/xxx<span class="selector-class">.git</span>    github仓库地址</span><br></pre></td></tr></table></figure></p>
<p>因为hexo博客生成时自带了.gitignore文件，无需担心不必要的文档被git管理。</p>
<p>因为编译后的文件对应的是<code>coding和github</code>的<code>master</code>分支，所以我们把源文件<code>push</code>到其它分支如：<code>coding-pages</code>分支。然后执行:<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git checkout -<span class="selector-tag">b</span> coding-pages</span><br></pre></td></tr></table></figure></p>
<p>这时当前分支为<code>coding-pages</code></p>
<p>接着<code>git add -A</code> ， <code>git commit -m &quot;注释&quot;</code></p>
<p>然后分别<code>Push</code>到<code>coding</code>和<code>github</code>的<code>coding-pages</code>分支上<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">push</span> <span class="built_in">origin</span> coding-pages</span><br><span class="line">git <span class="built_in">push</span> github coding-pages</span><br></pre></td></tr></table></figure></p>
<p>以上是我手动同步到<code>coding</code>和<code>github</code>的方法。</p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> git </tag>
            
            <tag> 备份 </tag>
            
            <tag> 命令 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[用hexo建博客]]></title>
      <url>/2016/hexo-you-blog.html</url>
      <content type="html"><![CDATA[<blockquote>
<p>如果你对默认配置满意，只需几个命令便可秒搭一个hexo。<br>如果你跟我一样喜欢折腾下，30分钟也足够个性化。<br>如果你过于喜欢折腾，可以折腾个把星期，尽情的玩。</p>
</blockquote>
<p>搭建过程你或许觉得有那么点小繁琐，但一旦搭建完成，写文章是极简单，极舒服的。</p>
<p>只需要几个简单命令，你就可以完成一切。<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">n</span> #写文章</span><br><span class="line">hexo <span class="keyword">g</span> #生成</span><br><span class="line">hexo <span class="keyword">d</span> #部署 # 可与hexo <span class="keyword">g</span>合并为 hexo <span class="keyword">d</span> -<span class="keyword">g</span></span><br></pre></td></tr></table></figure></p>
<p>下面逐步介绍，进入正题。</p>
<a id="more"></a>
<h1 id="环境准备"><a href="#环境准备" class="headerlink" title="环境准备"></a>环境准备</h1><p>安装Node<br>到Node.js官网下载相应平台的最新版本，一路安装即可。<br>安装Git<br>我用的是msysgit.安装过程网上一堆，很简单。</p>
<p>GitHub或coding</p>
<blockquote>
<p>GitHub账号和GitHub Pages 一般都应该有吧，已有的请自动无视这一部分。没有的自行百度。</p>
</blockquote>
<h1 id="添加SSH-Key"><a href="#添加SSH-Key" class="headerlink" title="添加SSH-Key"></a>添加SSH-Key</h1><p>首先设置你的用户名密码：<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user<span class="selector-class">.name</span> <span class="string">"Your Name"</span></span><br><span class="line">$ git config --global user<span class="selector-class">.email</span> <span class="string">"email@example.com"</span></span><br></pre></td></tr></table></figure></p>
<h1 id="生成密钥："><a href="#生成密钥：" class="headerlink" title="生成密钥："></a>生成密钥：</h1><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ssh-keygen</span> <span class="selector-tag">-t</span> <span class="selector-tag">rsa</span> <span class="selector-tag">-C</span> "<span class="selector-tag">email</span>@<span class="keyword">example</span>.<span class="keyword">com</span>"</span><br></pre></td></tr></table></figure>
<p>想简单，过程一路回车。<br><figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">"your_email@youremail.com"</span>    你的email帐户</span><br><span class="line">Generating <span class="keyword">public</span>/<span class="keyword">private</span> rsa <span class="keyword">key</span> pair.</span><br><span class="line">Enter file <span class="keyword">in</span> which <span class="keyword">to</span> save the <span class="keyword">key</span> (/c/Documents <span class="keyword">and</span> Settings/Administrator/.ssh/id_rsa): （设置保存公钥和私钥的位置，保持默认，可以不填直接回车）</span><br><span class="line">Enter passphrase (empty <span class="keyword">for</span> no passphrase): （读取id_rsa的密码，可不填，不过建议填写）</span><br><span class="line">Enter same passphrase again: （再次输入id_rsa密码确认）</span><br><span class="line">Your identification has been saved <span class="keyword">in</span> /c/Documents <span class="keyword">and</span> Settings/Administrator/.ssh/id_rsa.</span><br><span class="line">Your <span class="keyword">public</span> <span class="keyword">key</span> has been saved <span class="keyword">in</span> /c/Documents <span class="keyword">and</span> Settings/Administrator/.ssh/id_rsa.pub.</span><br><span class="line">The <span class="keyword">key</span> fingerprint <span class="keyword">is</span>:生成的<span class="keyword">KEY</span> 你的email帐户</span><br></pre></td></tr></table></figure></p>
<p>上述命令若执行成功，会在<code>c/Documents and Settings/Administrator/.ssh/</code>目录下生成两个文件<code>id_rsa</code>和<code>id_rsa.pub</code>，最后两步：</p>
<p>用文本编辑器打开<code>id_rsa.pub</code>文件，拷贝其中的内容，将其添加到<code>Add SSH Key</code> 不会添加的百度一下，这里不再说了。</p>
<p>最后可以验证一下：<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ssh</span> <span class="selector-tag">-T</span> <span class="selector-tag">git</span>@<span class="keyword">github</span>.<span class="keyword">com</span></span><br></pre></td></tr></table></figure></p>
<p>顺利的话可以看到下面的信息</p>
<blockquote>
<p>Hi lvshutao! You’ve successfully authenticated, but GitHub does not provide shell access.</p>
</blockquote>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p><code>Node</code>和<code>Git</code>都安装好后，可执行如下命令安装<code>hexo</code>：<br><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> -g hexo</span><br></pre></td></tr></table></figure></p>
<h1 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h1><p>然后，执行init命令初始化hexo到你指定的目录：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init <span class="tag">&lt;<span class="name">folder</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>也可以cd到目标目录，执行<code>hexo init</code>。</p>
</blockquote>
<p>好啦，至此，全部安装工作已经完成！</p>
<h1 id="生成静态页面"><a href="#生成静态页面" class="headerlink" title="生成静态页面"></a>生成静态页面</h1><p><code>cd</code>到你的<code>init</code>目录，执行如下命令，生成静态页面至<code>hexo\public\</code>目录。<br><figure class="highlight gcode"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">ge</span><span class="symbol">nerate</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>命令必须在<code>init</code>目录下执行，否则不成功，但是也不报错。<br>当你修改文章<code>Tag</code>或内容，不能正确重新生成内容，可以删除<code>hexo\db.json</code>后重试，还不行就到<code>public</code>目录删除对应的文件，重新生成。</p>
</blockquote>
<h1 id="本地启动"><a href="#本地启动" class="headerlink" title="本地启动"></a>本地启动</h1><p>执行如下命令，启动本地服务，进行文章预览调试。<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">server</span></span><br></pre></td></tr></table></figure></p>
<p>浏览器输入<code>http://localhost:4000</code>就可以看到效果。</p>
<blockquote>
<p>请使用高级浏览器，否则可能…你懂的！</p>
</blockquote>
<h1 id="写文章"><a href="#写文章" class="headerlink" title="写文章"></a>写文章</h1><p>执行new命令，生成指定名称的文章至<code>hexo\source\_posts\postName.md</code>。<br><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> [layout] <span class="string">"postName"</span> <span class="meta">#新建文章</span></span><br></pre></td></tr></table></figure></p>
<p>其中<code>layout</code>是可选参数，默认值为<code>post</code>。有哪些<code>layout</code>呢，请到<code>scaffolds</code>目录下查看，这些文件名称就是<code>layout</code>名称。当然你可以添加自己的<code>layout</code>，方法就是添加一个文件即可，同时你也可以编辑现有的<code>layout</code>，比如<code>post</code>的<code>layout</code>默认是<code>hexo\scaffolds\post.md</code><br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> &#123; &#123; title &#125; &#125;</span><br><span class="line"><span class="attr">date:</span> &#123; &#123; date &#125; &#125;</span><br><span class="line"><span class="attr">tags:</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>请注意，大括号与大括号之间我多加了个空格，否则会被转义，不能正常显示。</p>
</blockquote>
<p>我想添加<code>categories</code>，以免每次手工输入，只需要修改这个文件添加一行，如下：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> &#123; &#123; title &#125; &#125;</span><br><span class="line"><span class="attr">date:</span> &#123; &#123; date &#125; &#125;</span><br><span class="line"><span class="attr">categories:</span> </span><br><span class="line"><span class="attr">tags:</span> </span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure></p>
<p><code>postName</code>是md文件的名字，同时也出现在你文章的URL中，<code>postName</code>如果包含空格，必须用”将其包围，<code>postName</code>可以为中文。</p>
<blockquote>
<p>注意，所有文件：后面都必须有个空格，不然会报错。</p>
</blockquote>
<p>看一下刚才生成的文件<code>hexo\source\_posts\postName.md</code>，内容如下：<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span> postName <span class="comment">#文章页面上的显示名称，可以任意修改，不会出现在URL中</span></span><br><span class="line"><span class="attr">date:</span> <span class="number">2013</span><span class="bullet">-12</span><span class="bullet">-02</span> <span class="number">15</span>:<span class="number">30</span>:<span class="number">16</span> <span class="comment">#文章生成时间，一般不改，当然也可以任意修改</span></span><br><span class="line"><span class="attr">categories:</span> <span class="comment">#文章分类目录，可以为空，注意:后面有个空格</span></span><br><span class="line"><span class="attr">tags:</span> <span class="comment">#文章标签，可空，多标签请用格式[tag1,tag2,tag3]，注意:后面有个空格</span></span><br><span class="line"><span class="meta">---</span></span><br><span class="line">这里开始使用markdown格式输入你的正文。</span><br></pre></td></tr></table></figure></p>
<p>接下来，你就可以用喜爱的编辑器尽情书写你的文章。<a href="http://www.appinn.com/markdown/" title="Markdown 语法说明" target="_blank" rel="external">Markdown 语法说明。</a></p>
<h1 id="文章摘要"><a href="#文章摘要" class="headerlink" title="文章摘要"></a>文章摘要</h1><p>在需要显示摘要的地方添加如下代码即可：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">以上是摘要</span><br><span class="line"><span class="comment">&lt;!--more--&gt;</span></span><br><span class="line">以下是余下全文</span><br></pre></td></tr></table></figure></p>
<p>more以上内容即是文章摘要，在主页显示，more以下内容点击『&gt; Read More』链接打开全文才显示。</p>
<blockquote>
<p>hexo中所有文件的编码格式均是UTF-8。</p>
</blockquote>
<h1 id="主题安装"><a href="#主题安装" class="headerlink" title="主题安装"></a>主题安装</h1><p>本文以Next主题为例，安装主题的方法就是一句git命令：</p>
<blockquote>
<p>在终端窗口下，定位到 Hexo 站点目录下。使用 Git checkout 代码：</p>
</blockquote>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="keyword">cd</span> your-hexo-site</span><br><span class="line">$ git clone http<span class="variable">s:</span>//github.<span class="keyword">com</span>/iissnan/hexo-theme-<span class="keyword">next</span> themes/<span class="keyword">next</span></span><br></pre></td></tr></table></figure>
<p>安装完成后，打开hexo_config.yml，修改主题为NexT<br><figure class="highlight autoit"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: <span class="keyword">NexT</span></span><br></pre></td></tr></table></figure></p>
<p>打开hexo\themes\modernist目录，编辑主题配置文件_config.yml：<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">menu</span>: #配置页头显示哪些菜单</span><br><span class="line">#  <span class="attribute">Home</span>: /</span><br><span class="line">  <span class="attribute">Archives</span>: /archives</span><br><span class="line">  <span class="attribute">Reading</span>: /reading</span><br><span class="line">  <span class="attribute">About</span>: /about</span><br><span class="line">#  <span class="attribute">Guestbook</span>: /about</span><br><span class="line"></span><br><span class="line"><span class="attribute">excerpt_link</span>: Read More #摘要链接文字</span><br><span class="line"><span class="attribute">archive_yearly</span>: false #按年存档</span><br><span class="line"></span><br><span class="line"><span class="attribute">widgets</span>: #配置页脚显示哪些小挂件</span><br><span class="line">  - category</span><br><span class="line">#  - tag</span><br><span class="line">  - tagcloud</span><br><span class="line">  - recent_posts</span><br><span class="line">#  - blogroll</span><br><span class="line"></span><br><span class="line"><span class="attribute">blogrolls</span>: #友情链接</span><br><span class="line">  - bruce sha's duapp <span class="attribute">wordpress</span>: <span class="attribute">http</span>:<span class="comment">//ibruce.duapp.com</span></span><br><span class="line">  - bruce sha's <span class="attribute">javaeye</span>: <span class="attribute">http</span>:<span class="comment">//buru.iteye.com</span></span><br><span class="line">  - bruce sha's oschina <span class="attribute">blog</span>: <span class="attribute">http</span>:<span class="comment">//my.oschina.net/buru</span></span><br><span class="line">  - bruce sha's baidu <span class="attribute">space</span>: <span class="attribute">http</span>:<span class="comment">//hi.baidu.com/iburu</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">fancybox</span>: true #是否开启fancybox效果</span><br><span class="line"></span><br><span class="line"><span class="attribute">duoshuo_shortname</span>: buru #多说账号</span><br><span class="line"></span><br><span class="line"><span class="attribute">google_analytics</span>:</span><br><span class="line"><span class="attribute">rss</span>:</span><br></pre></td></tr></table></figure></p>
<h1 id="更新主题"><a href="#更新主题" class="headerlink" title="更新主题"></a>更新主题</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/modernist</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>
<p>主题其它使用配置及常见问题点此：<a href="http://theme-next.iissnan.com/" title="NexT 使用文档" target="_blank" rel="external">NexT 使用文档</a></p>
<h1 id="Hexo命令"><a href="#Hexo命令" class="headerlink" title="Hexo命令"></a>Hexo命令</h1><h2 id="常用命令："><a href="#常用命令：" class="headerlink" title="常用命令："></a>常用命令：</h2><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="string">"postName"</span> <span class="meta">#新建文章</span></span><br><span class="line">hexo <span class="keyword">new</span> page <span class="string">"pageName"</span> <span class="meta">#新建页面</span></span><br><span class="line">hexo generate <span class="meta">#生成静态页面至public目录</span></span><br><span class="line">hexo <span class="keyword">server</span> <span class="meta">#开启预览访问端口（默认端口4000，'ctrl + c'关闭server）</span></span><br><span class="line">hexo deploy <span class="meta">#将.deploy目录部署到GitHub</span></span><br></pre></td></tr></table></figure>
<h2 id="常用复合命令："><a href="#常用复合命令：" class="headerlink" title="常用复合命令："></a>常用复合命令：</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy -<span class="keyword">g</span></span><br><span class="line">hexo server -<span class="keyword">g</span></span><br></pre></td></tr></table></figure>
<h2 id="简写："><a href="#简写：" class="headerlink" title="简写："></a>简写：</h2><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="attr">n</span> == hexo new</span><br><span class="line">hexo <span class="attr">g</span> == hexo generate</span><br><span class="line">hexo <span class="attr">s</span> == hexo server</span><br><span class="line">hexo <span class="attr">d</span> == hexo deploy</span><br></pre></td></tr></table></figure>
<h2 id="至此，基本操作介绍完毕，以下内容普通用户无需了解。"><a href="#至此，基本操作介绍完毕，以下内容普通用户无需了解。" class="headerlink" title="至此，基本操作介绍完毕，以下内容普通用户无需了解。"></a>至此，基本操作介绍完毕，以下内容普通用户无需了解。</h2><h1 id="目录介绍"><a href="#目录介绍" class="headerlink" title="目录介绍"></a>目录介绍</h1><h2 id="默认目录结构："><a href="#默认目录结构：" class="headerlink" title="默认目录结构："></a>默认目录结构：</h2><figure class="highlight gradle"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── .deploy</span><br><span class="line">├── <span class="keyword">public</span></span><br><span class="line">├── scaffolds</span><br><span class="line">├── scripts</span><br><span class="line">├── <span class="keyword">source</span></span><br><span class="line">|   ├── _drafts</span><br><span class="line">|   └── _posts</span><br><span class="line">├── themes</span><br><span class="line">├── _config.yml</span><br><span class="line">└── <span class="keyword">package</span>.json</span><br></pre></td></tr></table></figure>
<ul>
<li>.deploy：执行hexo deploy命令部署到GitHub上的内容目录</li>
<li>public：执行hexo generate命令，输出的静态网页内容目录</li>
<li>scaffolds：layout模板文件目录，其中的md文件可以添加编辑</li>
<li>scripts：扩展脚本目录，这里可以自定义一些javascript脚本</li>
<li>source：文章源码目录，该目录下的markdown和html文件均会被hexo处理。该页面对应repo的根目录，404文件、favicon.ico文件，CNAME文件等都应该放这里，该目录下可新建页面目录。<ul>
<li>_drafts：草稿文章</li>
<li>_posts：发布文章</li>
</ul>
</li>
<li>themes：主题文件目录</li>
<li>_config.yml：全局配置文件，大多数的设置都在这里</li>
<li>package.json：应用程序数据，指明hexo的版本等信息，类似于一般软件中的关于按钮</li>
</ul>
<p>接下来是重头戏<code>_config.yml</code>，做个简单说明：<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Hexo Configuration</span></span><br><span class="line"><span class="comment">## Docs: http://zespia.tw/hexo/docs/configure.html</span></span><br><span class="line"><span class="comment">## Source: https://github.com/tommy351/hexo/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Site #整站的基本信息</span></span><br><span class="line">title: 不如 <span class="comment">#网站标题</span></span><br><span class="line">subtitle: 码农，程序猿，未来的昏析师 <span class="comment">#网站副标题</span></span><br><span class="line">description: bruce sha's blog | java | scala | bi <span class="comment">#网站描述，给搜索引擎用的，在生成html中的head-&gt;meta中可看到</span></span><br><span class="line">author: bruce <span class="comment">#网站作者，在下方显示</span></span><br><span class="line">email: bu.ru@qq.com <span class="comment">#联系邮箱</span></span><br><span class="line">language: zh-CN <span class="comment">#语言</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL #域名和文件结构</span></span><br><span class="line"><span class="comment">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></span><br><span class="line">url: http://ibruce.<span class="literal">inf</span>o <span class="comment">#你的域名</span></span><br><span class="line">root: /</span><br><span class="line">permalink: :year/:month/:day/:title/</span><br><span class="line">tag_dir: tags</span><br><span class="line">archive_dir: archives</span><br><span class="line">category_dir: categories</span><br><span class="line">code_dir: downloads/code</span><br><span class="line"></span><br><span class="line"><span class="comment"># Writing #写文章选项</span></span><br><span class="line">new_post_name: :title.md <span class="comment"># File name of new posts</span></span><br><span class="line">default_layout: post <span class="comment">#默认layout方式</span></span><br><span class="line">auto_spacing: <span class="literal">false</span> <span class="comment"># Add spaces between asian characters and western characters</span></span><br><span class="line">titlecase: <span class="literal">false</span> <span class="comment"># Transform title into titlecase</span></span><br><span class="line">external_link: <span class="literal">true</span> <span class="comment"># Open external links in new tab</span></span><br><span class="line">max_open_file: <span class="number">100</span></span><br><span class="line">multi_thread: <span class="literal">true</span></span><br><span class="line">filename_case: <span class="number">0</span></span><br><span class="line">render_drafts: <span class="literal">false</span></span><br><span class="line">highlight: <span class="comment">#代码高亮</span></span><br><span class="line">  enable: <span class="literal">true</span> <span class="comment">#是否启用</span></span><br><span class="line">  line_number: <span class="literal">false</span> <span class="comment">#是否显示行号</span></span><br><span class="line">  tab_replace:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Category &amp; Tag #分类与标签</span></span><br><span class="line">default_category: uncategorized <span class="comment"># default</span></span><br><span class="line">category_map:</span><br><span class="line">tag_map:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Archives #存档，这里的说明好像不对。全部选择1，这个选项与主题中的选项有时候会有冲突</span></span><br><span class="line"><span class="comment">## 2: Enable pagination</span></span><br><span class="line"><span class="comment">## 1: Disable pagination</span></span><br><span class="line"><span class="comment">## 0: Fully Disable</span></span><br><span class="line">archive: <span class="number">1</span></span><br><span class="line">category: <span class="number">1</span></span><br><span class="line"><span class="keyword">tag</span>: <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Server #本地服务参数</span></span><br><span class="line"><span class="comment">## Hexo uses Connect as a server</span></span><br><span class="line"><span class="comment">## You can customize the logger format as defined in</span></span><br><span class="line"><span class="comment">## http://www.senchalabs.org/connect/logger.html</span></span><br><span class="line">port: <span class="number">4000</span></span><br><span class="line">logger: <span class="literal">true</span></span><br><span class="line">logger_format:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Date / Time format #日期显示格式</span></span><br><span class="line"><span class="comment">## Hexo uses Moment.js to parse and display date</span></span><br><span class="line"><span class="comment">## You can customize the date format as defined in</span></span><br><span class="line"><span class="comment">## http://momentjs.com/docs/#/displaying/format/</span></span><br><span class="line">date_format: MMM D YYYY</span><br><span class="line">time_format: H:mm:ss</span><br><span class="line"></span><br><span class="line"><span class="comment"># Pagination #分页设置</span></span><br><span class="line"><span class="comment">## Set per_page to 0 to disable pagination</span></span><br><span class="line">per_page: <span class="number">10</span> <span class="comment">#每页10篇文章</span></span><br><span class="line">pagination_dir: page</span><br><span class="line"></span><br><span class="line"><span class="comment"># Disqus #社会化评论disqus，我使用多说，在主题中配置</span></span><br><span class="line">disqus_shortname:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Extensions #插件，暂时未安装插件</span></span><br><span class="line"><span class="comment">## Plugins: https://github.com/tommy351/hexo/wiki/Plugins</span></span><br><span class="line"><span class="comment">## Themes: https://github.com/tommy351/hexo/wiki/Themes</span></span><br><span class="line"><span class="comment">## 主题</span></span><br><span class="line">theme: modernist <span class="comment"># raytaylorism # pacman # modernist # light</span></span><br><span class="line">exclude_generator:</span><br><span class="line"></span><br><span class="line"><span class="comment"># Deployment #部署</span></span><br><span class="line"><span class="comment">## Docs: http://zespia.tw/hexo/docs/deploy.html</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="keyword">type</span>: github</span><br><span class="line">  repository: git@github.com:bruce-sha/bruce-sha.github.com.git <span class="comment">#你的GitHub Pages仓库</span></span><br></pre></td></tr></table></figure></p>
<h1 id="修改局部页面"><a href="#修改局部页面" class="headerlink" title="修改局部页面"></a>修改局部页面</h1><p>页面展现的全部逻辑都在每个主题中控制，源代码在<code>hexo\themes\</code>你使用的主题\中，以<code>Next</code>主题为例：<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── languages          <span class="meta">#多语言</span></span><br><span class="line">|   ├── <span class="built_in">default</span>.yml    <span class="meta">#默认语言</span></span><br><span class="line">|   └── zh-CN.yml      <span class="meta">#中文语言</span></span><br><span class="line">├── layout             <span class="meta">#布局，根目录下的*.ejs文件是对主页，分页，存档等的控制</span></span><br><span class="line">|   ├── _partial       <span class="meta">#局部的布局，此目录下的*.ejs是对头尾等局部的控制</span></span><br><span class="line">|   └── _widget        <span class="meta">#小挂件的布局，页面下方小挂件的控制</span></span><br><span class="line">├── source             <span class="meta">#源码</span></span><br><span class="line">|   ├── css            <span class="meta">#css源码 </span></span><br><span class="line">|   |   ├── _base      <span class="meta">#*.styl基础css</span></span><br><span class="line">|   |   ├── _partial   <span class="meta">#*.styl局部css</span></span><br><span class="line">|   |   ├── fonts      <span class="meta">#字体</span></span><br><span class="line">|   |   ├── images     <span class="meta">#图片</span></span><br><span class="line">|   |   └── style.styl <span class="meta">#*.styl引入需要的css源码</span></span><br><span class="line">|   ├── fancybox       <span class="meta">#fancybox效果源码</span></span><br><span class="line">|   └── js             <span class="meta">#javascript源代码</span></span><br><span class="line">├── _config.yml        <span class="meta">#主题配置文件</span></span><br><span class="line">└── README.md          <span class="meta">#用GitHub的都知道</span></span><br></pre></td></tr></table></figure></p>
<h1 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h1><h2 id="更新hexo："><a href="#更新hexo：" class="headerlink" title="更新hexo："></a>更新hexo：</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">update</span> -<span class="keyword">g</span> hexo</span><br></pre></td></tr></table></figure>
<h2 id="更新主题："><a href="#更新主题：" class="headerlink" title="更新主题："></a>更新主题：</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> themes/你的主题</span><br><span class="line">git pull</span><br></pre></td></tr></table></figure>
<h2 id="更新插件："><a href="#更新插件：" class="headerlink" title="更新插件："></a>更新插件：</h2><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> update</span><br></pre></td></tr></table></figure>
<h1 id="换机器"><a href="#换机器" class="headerlink" title="换机器"></a>换机器</h1><p>你要保留好自己的博客源码。请查看我的另一篇博文。<a href="http://blog.ynxiu.com/2016/hexo-gaidong.html" title="多台电脑维护hexo博客 ">多台电脑维护hexo博客 </a></p>
<p>本文转自—-<a href="http://ibruce.info/2013/11/22/hexo-your-blog/" title="hexo你的博客 " target="_blank" rel="external">不知-hexo你的博客</a>。</p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> git </tag>
            
            <tag> 备份 </tag>
            
            <tag> 命令 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[多台电脑维护hexo博客]]></title>
      <url>/2016/hexo-gaidong.html</url>
      <content type="html"><![CDATA[<h1 id="安装hexo"><a href="#安装hexo" class="headerlink" title="安装hexo"></a>安装hexo</h1><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -<span class="keyword">g</span> hexo-<span class="keyword">cli</span></span><br></pre></td></tr></table></figure>
<h1 id="安装-Hexo-完成后"><a href="#安装-Hexo-完成后" class="headerlink" title="安装 Hexo 完成后"></a>安装 Hexo 完成后</h1><p>请执行下列命令，Hexo 将会在指定文件夹中新建所需要的文件。<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>hexo init &lt;folder&gt;</span><br><span class="line"><span class="variable">$ </span>cd &lt;folder&gt;</span><br><span class="line"><span class="variable">$ </span>npm install</span><br></pre></td></tr></table></figure></p>
<h1 id="新建完成后，指定文件夹的目录如下："><a href="#新建完成后，指定文件夹的目录如下：" class="headerlink" title="新建完成后，指定文件夹的目录如下："></a>新建完成后，指定文件夹的目录如下：</h1><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── source</span><br><span class="line"><span class="string">|   ├── _drafts</span></span><br><span class="line"><span class="string">|   └── _posts</span></span><br><span class="line">└── themes</span><br><span class="line"></span><br><span class="line">_config.yml</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>网站的 配置 信息，您可以在此配置大部分的参数。如：<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">  <span class="attribute">type</span>: git</span><br><span class="line">  <span class="attribute">repository</span>: git<span class="variable">@git</span>.coding.<span class="attribute">net</span>:xxx/xxx.git</span><br><span class="line">  <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure></p>
<p>此时，<code>hexo g</code>     <code>hexo s</code>   启动服务，打开： <code>http://localhost:4000/</code> 能在本地正常显示网页。</p>
<blockquote>
<p>首次安装<code>hexo</code>结束，以下为备份。</p>
</blockquote>
<h1 id="部署到远程仓库"><a href="#部署到远程仓库" class="headerlink" title="部署到远程仓库"></a>部署到远程仓库</h1><p>修改好所有博客设置,文章写好后 <code>hexo g</code>  部署，接着<code>hexo d</code>  <code>push</code>到远程<code>maste</code>分支，并开启<code>coding-pages</code>功能稍等片刻就能看到博客。</p>
<h1 id="备份博客源文件"><a href="#备份博客源文件" class="headerlink" title="备份博客源文件"></a>备份博客源文件</h1><p>在本地博客根目录打开<code>git bash</code> </p>
<p><code>git init</code>后<br><figure class="highlight mipsasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">git remote <span class="keyword">add </span><span class="keyword">origin </span>&lt;远程项目地址&gt;</span><br><span class="line"></span><br><span class="line">git checkout -<span class="keyword">b </span>coding-pages分支</span><br><span class="line"></span><br><span class="line">git <span class="keyword">add </span>-A  </span><br><span class="line"></span><br><span class="line">git commit -m <span class="string">"提交"</span></span><br><span class="line"></span><br><span class="line">git push <span class="keyword">origin </span>coding-pages</span><br></pre></td></tr></table></figure></p>
<p>此时备份到<code>coding-pages</code>分支成功</p>
<h1 id="在另一台电脑写博备份操作。"><a href="#在另一台电脑写博备份操作。" class="headerlink" title="在另一台电脑写博备份操作。"></a>在另一台电脑写博备份操作。</h1><p>某盘下：打开<code>git bash</code>键入<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone <span class="tag">&lt;<span class="name">远程博客地址</span>&gt;</span> <span class="tag">&lt;<span class="name">本地文件夹名</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>当前默认为<code>master</code>分支，也就是<code>hexo</code>编译后的静态博客。</p>
<p>切换到<code>coding-pages</code>分支。</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git branch -<span class="selector-tag">a</span> </span><br><span class="line">git checkout coding-pages</span><br></pre></td></tr></table></figure>
<p>输入以下指令：</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> -g hexo-cli    <span class="comment"># 安装hexo</span></span><br><span class="line"></span><br><span class="line">npm <span class="keyword">install</span>                <span class="comment"># 安装依赖包</span></span><br><span class="line"></span><br><span class="line">npm <span class="keyword">install</span> hexo-deployer-git   <span class="comment"># 用git部署插件</span></span><br><span class="line"></span><br><span class="line">（记得，不需要hexo init这条指令）。</span><br><span class="line"></span><br><span class="line">npm <span class="keyword">install</span> hexo-generator-feed --save       RSS插件</span><br></pre></td></tr></table></figure>
<p>输入</p>
<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">g</span>  </span><br><span class="line">hexo <span class="built_in">s</span></span><br></pre></td></tr></table></figure>
<p>打开： <code>http://localhost:4000/</code>   博客又完整回来了，神奇吧。。</p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> git </tag>
            
            <tag> 备份 </tag>
            
            <tag> 命令 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[hexo常用命令笔记]]></title>
      <url>/2016/hexo-common.html</url>
      <content type="html"><![CDATA[<p><img src="/uploads/hexo-common.png" class="full-image" title="New Documentations for NexT"></p>
<h2 id="hexo"><a href="#hexo" class="headerlink" title="hexo"></a>hexo</h2><figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">npm</span> install hexo -g <span class="comment">#安装  </span></span><br><span class="line"><span class="built_in">npm</span> update hexo -g <span class="comment">#升级  </span></span><br><span class="line">hexo init <span class="comment">#初始化</span></span><br></pre></td></tr></table></figure>
<h2 id="简写"><a href="#简写" class="headerlink" title="简写"></a>简写</h2><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo n <span class="string">"我的博客"</span> == hexo new <span class="string">"我的博客"</span> <span class="comment">#新建文章</span></span><br><span class="line">hexo <span class="attr">p</span> == hexo publish</span><br><span class="line">hexo <span class="attr">g</span> == hexo generate<span class="comment">#生成</span></span><br><span class="line">hexo <span class="attr">s</span> == hexo server <span class="comment">#启动服务预览</span></span><br><span class="line">hexo <span class="attr">d</span> == hexo deploy<span class="comment">#部署</span></span><br></pre></td></tr></table></figure>
<h2 id="服务器"><a href="#服务器" class="headerlink" title="服务器"></a>服务器</h2><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">server</span> <span class="meta">#Hexo 会监视文件变动并自动更新，您无须重启服务器。</span></span><br><span class="line">hexo <span class="keyword">server</span> -s <span class="meta">#静态模式</span></span><br><span class="line">hexo <span class="keyword">server</span> -p <span class="number">5000</span> <span class="meta">#更改端口</span></span><br><span class="line">hexo <span class="keyword">server</span> -i <span class="number">192.168</span><span class="number">.1</span><span class="number">.1</span> <span class="meta">#自定义 IP</span></span><br><span class="line"></span><br><span class="line">hexo clean <span class="meta">#清除缓存 网页正常情况下可以忽略此条命令</span></span><br><span class="line">hexo g <span class="meta">#生成静态网页</span></span><br><span class="line">hexo d <span class="meta">#开始部署</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>
<h2 id="监视文件变动"><a href="#监视文件变动" class="headerlink" title="监视文件变动"></a>监视文件变动</h2><figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo</span> generate <span class="comment">#使用 Hexo 生成静态文件快速而且简单</span></span><br><span class="line">hexo generate --watch <span class="comment">#监视文件变动</span></span><br></pre></td></tr></table></figure>
<h2 id="完成后部署"><a href="#完成后部署" class="headerlink" title="完成后部署"></a>完成后部署</h2><p>两个命令的作用是相同的<br><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">generate</span> --deploy</span><br><span class="line">hexo deploy --<span class="keyword">generate</span></span><br><span class="line"></span><br><span class="line">hexo deploy -<span class="keyword">g</span></span><br><span class="line">hexo server -<span class="keyword">g</span></span><br></pre></td></tr></table></figure></p>
<h2 id="草稿"><a href="#草稿" class="headerlink" title="草稿"></a>草稿</h2><figure class="highlight accesslog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo publish <span class="string">[layout]</span> &lt;title&gt;</span><br></pre></td></tr></table></figure>
<h2 id="模版"><a href="#模版" class="headerlink" title="模版"></a>模版</h2><figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="string">"postName"</span> <span class="meta">#新建文章</span></span><br><span class="line">hexo <span class="keyword">new</span> page <span class="string">"pageName"</span> <span class="meta">#新建页面</span></span><br><span class="line">hexo generate <span class="meta">#生成静态页面至public目录</span></span><br><span class="line">hexo <span class="keyword">server</span> <span class="meta">#开启预览访问端口（默认端口4000，'ctrl + c'关闭server）</span></span><br><span class="line">hexo deploy <span class="meta">#将.deploy目录部署到GitHub</span></span><br><span class="line"></span><br><span class="line">hexo <span class="keyword">new</span> [layout] &lt;title&gt;</span><br><span class="line">hexo <span class="keyword">new</span> photo <span class="string">"My Gallery"</span></span><br><span class="line">hexo <span class="keyword">new</span> <span class="string">"Hello World"</span> --lang tw</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">变量</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">layout</td>
<td style="text-align:center">布局</td>
</tr>
<tr>
<td style="text-align:center">title</td>
<td style="text-align:center">标题</td>
</tr>
<tr>
<td style="text-align:center">date</td>
<td style="text-align:center">文件建立日期</td>
</tr>
</tbody>
</table>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">title:</span> 使用Hexo搭建个人博客</span><br><span class="line"><span class="string">layout:</span> post</span><br><span class="line"><span class="string">date:</span> <span class="number">2014</span><span class="number">-03</span><span class="number">-03</span> <span class="number">19</span>:<span class="number">07</span>:<span class="number">43</span></span><br><span class="line"><span class="string">comments:</span> <span class="literal">true</span></span><br><span class="line"><span class="string">categories:</span> Blog</span><br><span class="line"><span class="string">tags:</span> [Hexo]</span><br><span class="line"><span class="string">keywords:</span> Hexo, Blog</span><br><span class="line"><span class="string">description:</span> 生命在于折腾，又把博客折腾到Hexo了。给Hexo点赞。</span><br></pre></td></tr></table></figure>
<h2 id="模版（Scaffold）"><a href="#模版（Scaffold）" class="headerlink" title="模版（Scaffold）"></a>模版（Scaffold）</h2><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> photo <span class="string">"My Gallery"</span></span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">变量</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">layout</td>
<td style="text-align:center">布局</td>
</tr>
<tr>
<td style="text-align:center">title</td>
<td style="text-align:center">标题</td>
</tr>
<tr>
<td style="text-align:center">date</td>
<td style="text-align:center">文件建立日期</td>
</tr>
</tbody>
</table>
<h2 id="设置文章摘要"><a href="#设置文章摘要" class="headerlink" title="设置文章摘要"></a>设置文章摘要</h2><p>以上是文章摘要 <code>&lt;!--more--&gt;</code>以下是余下全文 </p>
<h2 id="写作"><a href="#写作" class="headerlink" title="写作"></a>写作</h2><figure class="highlight gauss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> page &lt;<span class="built_in">title</span>&gt;</span><br><span class="line">hexo <span class="keyword">new</span> post &lt;<span class="built_in">title</span>&gt;</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">变量</th>
<th style="text-align:center">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">:title</td>
<td style="text-align:center">标题</td>
</tr>
<tr>
<td style="text-align:center">:year</td>
<td style="text-align:center">建立的年份（4 位数）</td>
</tr>
<tr>
<td style="text-align:center">:month</td>
<td style="text-align:center">建立的月份（2 位数）</td>
</tr>
<tr>
<td style="text-align:center">:i_month</td>
<td style="text-align:center">建立的月份（去掉开头的零）</td>
</tr>
<tr>
<td style="text-align:center">:day</td>
<td style="text-align:center">建立的日期（2 位数）</td>
</tr>
<tr>
<td style="text-align:center">:i_day</td>
<td style="text-align:center">建立的日期（去掉开头的零）</td>
</tr>
</tbody>
</table>
<h2 id="推送到服务器上"><a href="#推送到服务器上" class="headerlink" title="推送到服务器上"></a>推送到服务器上</h2><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">n</span> #写文章</span><br><span class="line">hexo <span class="keyword">g</span> #生成</span><br><span class="line">hexo <span class="keyword">d</span> #部署 #可与hexo <span class="keyword">g</span>合并为 hexo <span class="keyword">d</span> -<span class="keyword">g</span></span><br></pre></td></tr></table></figure>]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 命令 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[如何删除 Master 分支]]></title>
      <url>/2016/del-master.html</url>
      <content type="html"><![CDATA[<h1 id="为什么要删除-master-分支"><a href="#为什么要删除-master-分支" class="headerlink" title="为什么要删除 master 分支"></a>为什么要删除 master 分支</h1><p>当你在创建一个新的仓库的时候没有指定分支的话，<code>Git</code> 会默认创建 <code>master</code> 分支并指定它为默认分支。<br>一般情况下使用 master 分支作为整个项目的核心分支是很普遍的行为，<br>而 <code>Pages</code> 服务之所以使用 <code>gitcafe-pages</code> 分支的方式区别项目文件和 <code>Pages</code> 文件。<br>这样你就可以在一个仓库中保存他们而且彼此不会有任何影响。<br>但是像是个人主页类的 <code>Pages</code> 服务或其他一些应用场合，可能并不需要 <code>master</code> 的存在，<br>甚至必须要删除它，或者只是你有洁癖┑(￣Д ￣)┍<br>那么你就需要如下的方法来删除 master 分支。</p>
<a id="more"></a>
<h1 id="如何删除你的-master-分支"><a href="#如何删除你的-master-分支" class="headerlink" title="如何删除你的 master 分支"></a>如何删除你的 master 分支</h1><p>首先，删除你在本地的 master 分支，你需要首先切换到一个另一个分支上，如果没有可以新建一个：</p>
<blockquote>
<p>git branch gitcafe-pages<br>git checkout gitcafe-pages<br>git branch -D master</p>
</blockquote>
<p>为了删除远端的 <code>master</code> 分支，可以运行命令：</p>
<blockquote>
<p>git push origin :master</p>
</blockquote>
<p>而你很有可能会得到这样一个错误提示：</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">remote</span>: <span class="attribute">error</span>: By default, deleting the current branch is denied, because the next</span><br><span class="line"><span class="attribute">remote</span>: <span class="attribute">error</span>: <span class="string">'git clone'</span> won't result in any file checked out, causing confusion.</span><br><span class="line"><span class="attribute">remote</span>: <span class="attribute">error</span>:</span><br><span class="line"><span class="attribute">remote</span>: <span class="attribute">error</span>: You can set <span class="string">'receive.denyDeleteCurrent'</span> configuration variable to</span><br><span class="line"><span class="attribute">remote</span>: <span class="attribute">error</span>: <span class="string">'warn'</span> or <span class="string">'ignore'</span> in the remote repository to allow deleting the</span><br><span class="line"><span class="attribute">remote</span>: <span class="attribute">error</span>: current branch, with or without a warning message.</span><br><span class="line"><span class="attribute">remote</span>: <span class="attribute">error</span>:</span><br><span class="line"><span class="attribute">remote</span>: <span class="attribute">error</span>: To squelch this message, you can set it to <span class="string">'refuse'</span>.</span><br><span class="line"><span class="attribute">remote</span>: <span class="attribute">error</span>: refusing to delete the current <span class="attribute">branch</span>: refs/heads/coding-pages</span><br><span class="line">To git<span class="variable">@git</span>.condin.<span class="attribute">net</span>:ranmocy/ranmocy.git</span><br><span class="line"> ! [remote rejected] gitcafe-pages (deletion of the current branch prohibited)</span><br><span class="line"><span class="attribute">error</span>: failed to push some refs to <span class="string">'git@coding.net:ranmocy/ranmocy.git'</span></span><br></pre></td></tr></table></figure>
<p>这是因为 <code>coding</code> 需要指定一个默认分支，并在你访问这个项目页面的时候默认显示这个分支的代码。<br>这个时候我们就需要提交另外一个分支到远端：</p>
<blockquote>
<p>git push origin gitcafe-pages</p>
</blockquote>
<p>并在项目管理页面中，将<code>“默认分支”</code>选项，设置为除 <code>master</code> 以外的分支上：</p>
<p>这样，我们就可以使用正确删除远端的 <code>master</code> 分支了：</p>
<blockquote>
<p>git push origin :master</p>
</blockquote>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> git </tag>
            
            <tag> 分支 </tag>
            
        </tags>
        
    </entry>
    
    <entry>
      <title><![CDATA[删除掉没有与远程分支对应的本地分支]]></title>
      <url>/2016/del-branch-fetch.html</url>
      <content type="html"><![CDATA[<p>假设这样一种情况：</p>
<ol>
<li>我创建了本地分支b1并pull到远程分支 origin/b1；</li>
<li>其他人在本地使用fetch或pull创建了本地的b1分支；</li>
<li>我删除了 origin/b1 远程分支；</li>
<li>其他人再次执行fetch或者pull并不会删除这个他们本地的 b1 分支，运行 git branch -a </li>
<li>也不能看出这个branch被删除了，如何处理？</li>
</ol>
<a id="more"></a>
<p>使用下面的代码查看b1的状态：</p>
<pre><code>$ git remote show origin
* remote origin
  Fetch URL: git@github.com:xxx/xxx.git
  Push  URL: git@github.com:xxx/xxx.git
  HEAD branch: master
  Remote branches:
    master                 tracked
    refs/remotes/origin/b1 stale (use &apos;git remote prune&apos; to remove)
  Local branch configured for &apos;git pull&apos;:
    master merges with remote master
  Local ref configured for &apos;git push&apos;:
    master pushes to master (up to date)
</code></pre><p>这时候能够看到b1是stale的，使用 git remote prune origin 可以将其从本地版本库中去除。</p>
<p>更简单的方法是使用这个命令，它在fetch之后删除掉没有与远程分支对应的本地分支：<br><code>git fetch -p</code></p>
]]></content>
      
        <categories>
            
            <category> 学习笔记 </category>
            
        </categories>
        
        
        <tags>
            
            <tag> git </tag>
            
            <tag> 分支 </tag>
            
            <tag> git-fetch </tag>
            
        </tags>
        
    </entry>
    
  
  
</search>
